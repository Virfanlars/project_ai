2025-04-14 19:39:28,637 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 19:39:28,638 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=None, batch_size=None, skip_data=False, skip_train=False, only_viz=True)
2025-04-14 19:39:28,638 - __main__ - INFO - 已确保目录存在: data
2025-04-14 19:39:28,639 - __main__ - INFO - 已确保目录存在: data/raw
2025-04-14 19:39:28,639 - __main__ - INFO - 已确保目录存在: data/processed
2025-04-14 19:39:28,641 - __main__ - INFO - 已确保目录存在: models
2025-04-14 19:39:28,641 - __main__ - INFO - 已确保目录存在: results
2025-04-14 19:39:28,642 - __main__ - INFO - 已确保目录存在: results/figures
2025-04-14 19:39:28,642 - __main__ - INFO - === 阶段 3: 生成可视化和报告 ===
2025-04-14 19:39:28,642 - __main__ - INFO - 执行: 生成可视化报告
2025-04-14 19:39:29,093 - __main__ - INFO - 命令成功完成: python run_visualization.py (耗时: 0.45秒)
2025-04-14 19:39:29,093 - __main__ - INFO - 输出: 可视化和报告生成失败，请查看日志文件获取详细信息
2025-04-14 19:39:29,093 - __main__ - INFO - 脓毒症早期预警系统 - 执行完成，总耗时: 0.01 分钟
2025-04-14 19:39:29,093 - __main__ - INFO - 生成的关键文件:
2025-04-14 19:39:29,094 - __main__ - WARNING - - data/processed/patient_features.csv: 文件不存在
2025-04-14 19:39:29,094 - __main__ - WARNING - - data/processed/sepsis_labels.csv: 文件不存在
2025-04-14 19:39:29,094 - __main__ - INFO - - models/best_model.pt: 2107.91 KB
2025-04-14 19:39:29,095 - __main__ - WARNING - - results/predictions.csv: 文件不存在
2025-04-14 19:39:29,095 - __main__ - WARNING - - results/figures/test_roc_curve.png: 文件不存在
2025-04-14 19:39:29,095 - __main__ - INFO - - results/sepsis_prediction_results.html: 3.84 KB
2025-04-14 19:39:29,095 - __main__ - INFO - 
脓毒症早期预警系统已完成执行。系统具有以下特点：
1. 大规模数据集：从MIMIC-IV中提取了大量真实患者数据
2. 高质量训练：使用了100轮次的训练，带有学习率调度和早停机制
3. 先进的模型架构：使用了多模态融合的神经网络结构
4. 详细的可视化：提供了风险轨迹、特征重要性等多种可视化图表
5. 完整的HTML报告：帮助医生解读模型结果

完整的结果可在 results 目录中查看，特别是:
- results/sepsis_prediction_results.html: 完整的预测结果报告
- results/figures/: 各种可视化和性能图表
    
2025-04-14 20:12:44,049 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 20:12:44,050 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=None, batch_size=None, skip_data=False, skip_train=False, only_viz=False)
2025-04-14 20:12:44,050 - __main__ - INFO - 已确保目录存在: data
2025-04-14 20:12:44,051 - __main__ - INFO - 已确保目录存在: data/raw
2025-04-14 20:12:44,051 - __main__ - INFO - 已确保目录存在: data/processed
2025-04-14 20:12:44,051 - __main__ - INFO - 已确保目录存在: models
2025-04-14 20:12:44,052 - __main__ - INFO - 已确保目录存在: results
2025-04-14 20:12:44,052 - __main__ - INFO - 已确保目录存在: results/figures
2025-04-14 20:12:44,053 - __main__ - INFO - === 阶段 1: 数据处理 ===
2025-04-14 20:12:44,053 - __main__ - INFO - 执行: 从数据库提取并处理数据
2025-04-14 20:12:47,002 - __main__ - INFO - 命令成功完成: python run_data_processing.py (耗时: 2.95秒)
2025-04-14 20:12:47,002 - __main__ - INFO - 输出: 2025-04-14 20:12:44,737 [INFO] - 开始数据处理与脓毒症标签生成...
2025-04-14 20:12:47,003 - __main__ - INFO - 输出: 2025-04-14 20:12:44,737 [INFO] - 步骤1：测试数据库连接...
2025-04-14 20:12:47,003 - __main__ - INFO - 输出: 2025-04-14 20:12:45,479 [INFO] - 数据库连接成功!
2025-04-14 20:12:47,003 - __main__ - INFO - 输出: 2025-04-14 20:12:45,479 [INFO] - 步骤2：检查派生表...
2025-04-14 20:12:47,003 - __main__ - INFO - 输出: 2025-04-14 20:12:45,722 [INFO] - mimiciv_derived.bg表存在，包含697687行数据
2025-04-14 20:12:47,004 - __main__ - INFO - 输出: 2025-04-14 20:12:46,168 [INFO] - mimiciv_derived.sofa表存在，包含8369694行数据
2025-04-14 20:12:47,004 - __main__ - INFO - 输出: 2025-04-14 20:12:46,504 [INFO] - mimiciv_derived.sepsis3表存在，包含7721514行数据
2025-04-14 20:12:47,004 - __main__ - INFO - 输出: 2025-04-14 20:12:46,504 [INFO] - 步骤3：提取患者队列...
2025-04-14 20:12:47,004 - __main__ - INFO - 输出: 2025-04-14 20:12:46,532 [INFO] - 提取了 0 名患者的信息
2025-04-14 20:12:47,004 - __main__ - INFO - 输出: 2025-04-14 20:12:46,541 [INFO] - 患者信息已保存至 data/processed/patient_info.csv
2025-04-14 20:12:47,005 - __main__ - INFO - 输出: 2025-04-14 20:12:46,541 [INFO] - 步骤4：提取样本数据...
2025-04-14 20:12:47,005 - __main__ - INFO - 输出: 2025-04-14 20:12:46,906 [ERROR] - 数据处理失败: Execution failed on sql '
2025-04-14 20:12:47,005 - __main__ - INFO - 输出:     SELECT subject_id, icustay_id AS stay_id, hr, sofa_score
2025-04-14 20:12:47,005 - __main__ - INFO - 输出:     FROM mimiciv_derived.sofa
2025-04-14 20:12:47,005 - __main__ - INFO - 输出:     WHERE subject_id IN %s AND icustay_id IN %s
2025-04-14 20:12:47,006 - __main__ - INFO - 输出:     ORDER BY subject_id, icustay_id, hr
2025-04-14 20:12:47,006 - __main__ - INFO - 输出:     ': 错误:  语法错误 在 ")" 或附近的
2025-04-14 20:12:47,006 - __main__ - INFO - 输出: LINE 4:     WHERE subject_id IN () AND icustay_id IN ()
2025-04-14 20:12:47,006 - __main__ - INFO - 输出:                                  ^
2025-04-14 20:12:47,006 - __main__ - INFO - 输出: 2025-04-14 20:12:46,909 [ERROR] - Traceback (most recent call last):
2025-04-14 20:12:47,007 - __main__ - INFO - 输出:   File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\pandas\io\sql.py", line 2674, in execute
2025-04-14 20:12:47,007 - __main__ - INFO - 输出:     cur.execute(sql, *args)
2025-04-14 20:12:47,007 - __main__ - INFO - 输出: psycopg2.errors.SyntaxError: 错误:  语法错误 在 ")" 或附近的
2025-04-14 20:12:47,007 - __main__ - INFO - 输出: LINE 4:     WHERE subject_id IN () AND icustay_id IN ()
2025-04-14 20:12:47,007 - __main__ - INFO - 输出:                                  ^
2025-04-14 20:12:47,008 - __main__ - INFO - 输出: The above exception was the direct cause of the following exception:
2025-04-14 20:12:47,008 - __main__ - INFO - 输出: Traceback (most recent call last):
2025-04-14 20:12:47,008 - __main__ - INFO - 输出:   File "D:\Documents\Downloads\ai\project\run_data_processing.py", line 190, in main
2025-04-14 20:12:47,008 - __main__ - INFO - 输出:     merged_df = extract_sample_data(conn, patient_df, sample_size=500)
2025-04-14 20:12:47,008 - __main__ - INFO - 输出:                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-04-14 20:12:47,009 - __main__ - INFO - 输出:   File "D:\Documents\Downloads\ai\project\run_data_processing.py", line 95, in extract_sample_data
2025-04-14 20:12:47,009 - __main__ - INFO - 输出:     sofa_df = pd.read_sql(sofa_query, conn, params=(subject_ids, stay_ids))
2025-04-14 20:12:47,009 - __main__ - INFO - 输出:               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-04-14 20:12:47,009 - __main__ - INFO - 输出:   File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\pandas\io\sql.py", line 706, in read_sql
2025-04-14 20:12:47,010 - __main__ - INFO - 输出:     return pandas_sql.read_query(
2025-04-14 20:12:47,010 - __main__ - INFO - 输出:            ^^^^^^^^^^^^^^^^^^^^^^
2025-04-14 20:12:47,010 - __main__ - INFO - 输出:   File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\pandas\io\sql.py", line 2738, in read_query
2025-04-14 20:12:47,010 - __main__ - INFO - 输出:     cursor = self.execute(sql, params)
2025-04-14 20:12:47,010 - __main__ - INFO - 输出:              ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-04-14 20:12:47,010 - __main__ - INFO - 输出:   File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\pandas\io\sql.py", line 2686, in execute
2025-04-14 20:12:47,011 - __main__ - INFO - 输出:     raise ex from exc
2025-04-14 20:12:47,011 - __main__ - INFO - 输出: pandas.errors.DatabaseError: Execution failed on sql '
2025-04-14 20:12:47,011 - __main__ - INFO - 输出:     SELECT subject_id, icustay_id AS stay_id, hr, sofa_score
2025-04-14 20:12:47,011 - __main__ - INFO - 输出:     FROM mimiciv_derived.sofa
2025-04-14 20:12:47,011 - __main__ - INFO - 输出:     WHERE subject_id IN %s AND icustay_id IN %s
2025-04-14 20:12:47,011 - __main__ - INFO - 输出:     ORDER BY subject_id, icustay_id, hr
2025-04-14 20:12:47,012 - __main__ - INFO - 输出:     ': 错误:  语法错误 在 ")" 或附近的
2025-04-14 20:12:47,012 - __main__ - INFO - 输出: LINE 4:     WHERE subject_id IN () AND icustay_id IN ()
2025-04-14 20:12:47,012 - __main__ - INFO - 输出:                                  ^
2025-04-14 20:12:47,012 - __main__ - INFO - 输出: 2025-04-14 20:12:46,909 [INFO] - 生成的文件统计信息:
2025-04-14 20:12:47,012 - __main__ - INFO - 输出: 2025-04-14 20:12:46,909 [INFO] - - data/processed/patient_info.csv: 0.03KB
2025-04-14 20:12:47,012 - __main__ - INFO - 输出: 2025-04-14 20:12:46,910 [WARNING] - - data/processed/patient_features.csv: 文件不存在
2025-04-14 20:12:47,013 - __main__ - INFO - 输出: 2025-04-14 20:12:46,910 [WARNING] - - data/processed/sepsis_labels.csv: 文件不存在
2025-04-14 20:12:47,013 - __main__ - INFO - 输出: 2025-04-14 20:12:46,910 [WARNING] - - data/processed/kg_embeddings.json: 文件不存在
2025-04-14 20:12:47,013 - __main__ - INFO - 输出: 2025-04-14 20:12:46,910 [INFO] - 数据处理与脓毒症标签生成完成，耗时: 2.17秒
2025-04-14 20:12:47,013 - __main__ - INFO - === 阶段 2: 模型训练 ===
2025-04-14 20:12:47,013 - __main__ - INFO - 执行: 训练脓毒症预警模型
2025-04-14 20:12:51,849 - __main__ - ERROR - 命令执行失败: python train.py --use_lr_scheduler --use_sampler --gradient_clip 1.0
2025-04-14 20:12:51,849 - __main__ - ERROR - 错误: Traceback (most recent call last):
2025-04-14 20:12:51,850 - __main__ - ERROR - 错误:   File "D:\Documents\Downloads\ai\project\train.py", line 16, in <module>
2025-04-14 20:12:51,850 - __main__ - ERROR - 错误:     from utils.data_loading import load_structured_data
2025-04-14 20:12:51,850 - __main__ - ERROR - 错误: ModuleNotFoundError: No module named 'utils.data_loading'
2025-04-14 20:12:51,850 - __main__ - ERROR - 模型训练阶段失败，无法继续
2025-04-14 20:18:46,463 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 20:18:46,463 - __main__ - INFO - 运行参数: Namespace(sample=False, local=False, mock_data=False, epochs=None, batch_size=None, skip_data=False, skip_train=False, only_viz=False)
2025-04-14 20:18:46,463 - __main__ - INFO - 已确保目录存在: data
2025-04-14 20:18:46,464 - __main__ - INFO - 已确保目录存在: data/raw
2025-04-14 20:18:46,465 - __main__ - INFO - 已确保目录存在: data/processed
2025-04-14 20:18:46,465 - __main__ - INFO - 已确保目录存在: data/knowledge_graph
2025-04-14 20:18:46,466 - __main__ - INFO - 已确保目录存在: models
2025-04-14 20:18:46,466 - __main__ - INFO - 已确保目录存在: models/fusion
2025-04-14 20:18:46,467 - __main__ - INFO - 已确保目录存在: models/time_series
2025-04-14 20:18:46,467 - __main__ - INFO - 已确保目录存在: models/knowledge_graph
2025-04-14 20:18:46,467 - __main__ - INFO - 已确保目录存在: models/text
2025-04-14 20:18:46,468 - __main__ - INFO - 已确保目录存在: results
2025-04-14 20:18:46,468 - __main__ - INFO - 已确保目录存在: results/figures
2025-04-14 20:18:46,469 - __main__ - INFO - 已确保目录存在: results/explanations
2025-04-14 20:18:46,469 - __main__ - INFO - 已确保目录存在: results/visualizations
2025-04-14 20:18:46,469 - __main__ - INFO - === 阶段 1: 数据处理 ===
2025-04-14 20:18:46,470 - __main__ - INFO - 执行: 从数据库提取并处理数据
2025-04-14 20:18:47,142 - __main__ - ERROR - 命令执行失败: python run_data_processing.py
2025-04-14 20:18:47,143 - __main__ - ERROR - 错误: 2025-04-14 20:18:47,087 - __main__ - ERROR - 导入错误: No module named 'utils.database_config'
2025-04-14 20:18:47,143 - __main__ - ERROR - 错误: 2025-04-14 20:18:47,087 - __main__ - ERROR - 请确保您在项目根目录执行此脚本，并且已安装所有依赖
2025-04-14 20:18:47,143 - __main__ - WARNING - 数据处理阶段出现问题，尝试使用样本数据
2025-04-14 20:18:47,144 - __main__ - INFO - 执行: 使用样本数据进行数据处理
2025-04-14 20:18:47,816 - __main__ - ERROR - 命令执行失败: python run_data_processing.py --sample
2025-04-14 20:18:47,816 - __main__ - ERROR - 错误: 2025-04-14 20:18:47,759 - __main__ - ERROR - 导入错误: No module named 'utils.database_config'
2025-04-14 20:18:47,817 - __main__ - ERROR - 错误: 2025-04-14 20:18:47,760 - __main__ - ERROR - 请确保您在项目根目录执行此脚本，并且已安装所有依赖
2025-04-14 20:18:47,817 - __main__ - ERROR - 数据处理阶段失败，无法继续
2025-04-14 20:18:54,159 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 20:18:54,160 - __main__ - INFO - 运行参数: Namespace(sample=False, local=False, mock_data=False, epochs=None, batch_size=None, skip_data=False, skip_train=False, only_viz=False)
2025-04-14 20:18:54,160 - __main__ - INFO - 已确保目录存在: data
2025-04-14 20:18:54,161 - __main__ - INFO - 已确保目录存在: data/raw
2025-04-14 20:18:54,161 - __main__ - INFO - 已确保目录存在: data/processed
2025-04-14 20:18:54,162 - __main__ - INFO - 已确保目录存在: data/knowledge_graph
2025-04-14 20:18:54,162 - __main__ - INFO - 已确保目录存在: models
2025-04-14 20:18:54,162 - __main__ - INFO - 已确保目录存在: models/fusion
2025-04-14 20:18:54,163 - __main__ - INFO - 已确保目录存在: models/time_series
2025-04-14 20:18:54,163 - __main__ - INFO - 已确保目录存在: models/knowledge_graph
2025-04-14 20:18:54,164 - __main__ - INFO - 已确保目录存在: models/text
2025-04-14 20:18:54,164 - __main__ - INFO - 已确保目录存在: results
2025-04-14 20:18:54,164 - __main__ - INFO - 已确保目录存在: results/figures
2025-04-14 20:18:54,165 - __main__ - INFO - 已确保目录存在: results/explanations
2025-04-14 20:18:54,165 - __main__ - INFO - 已确保目录存在: results/visualizations
2025-04-14 20:18:54,166 - __main__ - INFO - === 阶段 1: 数据处理 ===
2025-04-14 20:18:54,166 - __main__ - INFO - 执行: 从数据库提取并处理数据
2025-04-14 20:18:54,872 - __main__ - ERROR - 命令执行失败: python run_data_processing.py
2025-04-14 20:18:54,872 - __main__ - ERROR - 错误: 2025-04-14 20:18:54,815 - __main__ - ERROR - 导入错误: No module named 'utils.database_config'
2025-04-14 20:18:54,872 - __main__ - ERROR - 错误: 2025-04-14 20:18:54,815 - __main__ - ERROR - 请确保您在项目根目录执行此脚本，并且已安装所有依赖
2025-04-14 20:18:54,872 - __main__ - WARNING - 数据处理阶段出现问题，尝试使用样本数据
2025-04-14 20:18:54,872 - __main__ - INFO - 执行: 使用样本数据进行数据处理
2025-04-14 20:18:55,617 - __main__ - ERROR - 命令执行失败: python run_data_processing.py --sample
2025-04-14 20:18:55,618 - __main__ - ERROR - 错误: 2025-04-14 20:18:55,554 - __main__ - ERROR - 导入错误: No module named 'utils.database_config'
2025-04-14 20:18:55,618 - __main__ - ERROR - 错误: 2025-04-14 20:18:55,554 - __main__ - ERROR - 请确保您在项目根目录执行此脚本，并且已安装所有依赖
2025-04-14 20:18:55,618 - __main__ - ERROR - 数据处理阶段失败，无法继续
2025-04-14 20:27:08,814 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 20:27:08,814 - __main__ - INFO - 运行参数: Namespace(sample=False, local=False, mock_data=False, epochs=None, batch_size=None, skip_data=False, skip_train=False, only_viz=False)
2025-04-14 20:27:08,815 - __main__ - INFO - 已确保目录存在: data
2025-04-14 20:27:08,815 - __main__ - INFO - 已确保目录存在: data/raw
2025-04-14 20:27:08,816 - __main__ - INFO - 已确保目录存在: data/processed
2025-04-14 20:27:08,816 - __main__ - INFO - 已确保目录存在: data/knowledge_graph
2025-04-14 20:27:08,816 - __main__ - INFO - 已确保目录存在: models
2025-04-14 20:27:08,817 - __main__ - INFO - 已确保目录存在: models/fusion
2025-04-14 20:27:08,817 - __main__ - INFO - 已确保目录存在: models/time_series
2025-04-14 20:27:08,818 - __main__ - INFO - 已确保目录存在: models/knowledge_graph
2025-04-14 20:27:08,818 - __main__ - INFO - 已确保目录存在: models/text
2025-04-14 20:27:08,818 - __main__ - INFO - 已确保目录存在: results
2025-04-14 20:27:08,818 - __main__ - INFO - 已确保目录存在: results/figures
2025-04-14 20:27:08,819 - __main__ - INFO - 已确保目录存在: results/explanations
2025-04-14 20:27:08,819 - __main__ - INFO - 已确保目录存在: results/visualizations
2025-04-14 20:27:08,819 - __main__ - INFO - === 阶段 1: 数据处理 ===
2025-04-14 20:27:08,820 - __main__ - INFO - 执行: 从数据库提取并处理数据
2025-04-14 20:27:09,532 - __main__ - ERROR - 命令执行失败: python run_data_processing.py
2025-04-14 20:27:09,533 - __main__ - ERROR - 错误: Traceback (most recent call last):
2025-04-14 20:27:09,533 - __main__ - ERROR - 错误:   File "D:\Documents\Downloads\ai\project\run_data_processing.py", line 34, in <module>
2025-04-14 20:27:09,533 - __main__ - ERROR - 错误:     from utils.database_config import get_connection, DATABASE_CONFIG
2025-04-14 20:27:09,533 - __main__ - ERROR - 错误: SyntaxError: source code string cannot contain null bytes
2025-04-14 20:27:09,533 - __main__ - WARNING - 数据处理阶段出现问题，尝试使用样本数据
2025-04-14 20:27:09,534 - __main__ - INFO - 执行: 使用样本数据进行数据处理
2025-04-14 20:27:10,210 - __main__ - ERROR - 命令执行失败: python run_data_processing.py --sample
2025-04-14 20:27:10,210 - __main__ - ERROR - 错误: Traceback (most recent call last):
2025-04-14 20:27:10,210 - __main__ - ERROR - 错误:   File "D:\Documents\Downloads\ai\project\run_data_processing.py", line 34, in <module>
2025-04-14 20:27:10,210 - __main__ - ERROR - 错误:     from utils.database_config import get_connection, DATABASE_CONFIG
2025-04-14 20:27:10,210 - __main__ - ERROR - 错误: SyntaxError: source code string cannot contain null bytes
2025-04-14 20:27:10,210 - __main__ - ERROR - 数据处理阶段失败，无法继续
2025-04-14 21:34:43,921 - __main__ - INFO - ================================================================================
2025-04-14 21:34:43,922 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 21:34:43,922 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 21:34:43,922 - __main__ - INFO - ================================================================================
2025-04-14 21:37:12,399 - __main__ - INFO - ================================================================================
2025-04-14 21:37:12,399 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 21:37:12,399 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 21:37:12,399 - __main__ - INFO - ================================================================================
2025-04-14 21:37:12,401 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=False)
2025-04-14 21:37:12,471 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 21:37:12,471 - __main__ - INFO - 检查环境设置...
2025-04-14 21:37:12,471 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 21:37:15,566 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 21:37:17,083 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 21:37:17,084 - __main__ - ERROR - 数据库配置检查失败: source code string cannot contain null bytes
2025-04-14 21:37:17,084 - __main__ - ERROR - 环境检查失败，终止执行
2025-04-14 21:43:08,934 - __main__ - INFO - ================================================================================
2025-04-14 21:43:08,934 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 21:43:08,935 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 21:43:08,935 - __main__ - INFO - ================================================================================
2025-04-14 21:47:03,297 - __main__ - INFO - ================================================================================
2025-04-14 21:47:03,298 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 21:47:03,298 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 21:47:03,298 - __main__ - INFO - ================================================================================
2025-04-14 21:47:03,301 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=True, skip_extraction=True, skip_training=True, only_viz=True, force_real_data=False)
2025-04-14 21:47:03,391 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 21:47:03,391 - __main__ - INFO - 检查环境设置...
2025-04-14 21:47:06,751 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 21:47:06,751 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 21:47:08,257 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 21:47:08,258 - __main__ - ERROR - 数据库配置检查失败: source code string cannot contain null bytes
2025-04-14 21:47:08,258 - __main__ - ERROR - 环境检查失败，终止执行
2025-04-14 21:50:13,355 - __main__ - INFO - ================================================================================
2025-04-14 21:50:13,355 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 21:50:13,355 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 21:50:13,355 - __main__ - INFO - ================================================================================
2025-04-14 21:50:13,358 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=True, force_real_data=False)
2025-04-14 21:50:13,444 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 21:50:13,444 - __main__ - INFO - 检查环境设置...
2025-04-14 21:50:16,111 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 21:50:16,112 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 21:50:17,592 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 21:50:17,592 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 21:50:17,593 - __main__ - INFO - 只运行可视化模式，跳过数据库检查
2025-04-14 21:50:17,593 - __main__ - INFO - 只运行可视化部分
2025-04-14 21:50:17,593 - __main__ - INFO - 开始生成可视化和报告...
2025-04-14 21:50:17,593 - __main__ - INFO - 执行任务: 生成可视化和报告
2025-04-14 21:50:18,143 - __main__ - INFO - 命令成功完成: python run_visualization.py (耗时: 0.55秒)
2025-04-14 21:50:18,143 - __main__ - INFO - 输出: 2025-04-14 21:50:18,094 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ���ʼ
2025-04-14 21:50:18,094 - __main__ - INFO - ��ʼ���ɿ��ӻ�...
2025-04-14 21:50:18,096 - __main__ - ERROR - ���ӻ����ɹ����г���: source code string cannot contain null bytes
2025-04-14 21:50:18,096 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\Documents\Downloads\ai\project\run_visualization.py", line 38, in main
    from utils.explanation import (
SyntaxError: source code string cannot contain null bytes

���ӻ��ͱ�������ʧ�ܣ���鿴��־�ļ���ȡ��ϸ��Ϣ
2025-04-14 21:50:18,144 - __main__ - WARNING - 预期可视化文件不存在: results/sepsis_prediction_results.html
2025-04-14 21:50:18,144 - __main__ - WARNING - 预期可视化文件不存在: results/figures/roc_curve.png
2025-04-14 21:50:18,146 - __main__ - WARNING - 预期可视化文件不存在: results/figures/risk_trajectories.png
2025-04-14 21:50:18,146 - __main__ - WARNING - 预期可视化文件不存在: results/figures/confusion_matrix.png
2025-04-14 21:50:18,147 - __main__ - WARNING - 预期可视化文件不存在: results/figures/feature_importance.png
2025-04-14 21:50:18,147 - __main__ - WARNING - 预期可视化文件不存在: results/figures/model_architecture.png
2025-04-14 21:50:18,148 - __main__ - INFO - 脓毒症早期预警系统 - 执行完成，总耗时: 0.08 分钟
2025-04-14 21:50:18,148 - __main__ - INFO - 生成的关键文件:
2025-04-14 21:50:18,148 - __main__ - WARNING - - data/processed/patient_features.csv: 文件不存在
2025-04-14 21:50:18,148 - __main__ - WARNING - - data/processed/sepsis_labels.csv: 文件不存在
2025-04-14 21:50:18,148 - __main__ - WARNING - - models/best_model.pt: 文件不存在
2025-04-14 21:50:18,149 - __main__ - WARNING - - results/predictions.csv: 文件不存在
2025-04-14 21:50:18,149 - __main__ - WARNING - - results/figures/roc_curve.png: 文件不存在
2025-04-14 21:50:18,149 - __main__ - WARNING - - results/sepsis_prediction_results.html: 文件不存在
2025-04-14 21:50:18,150 - __main__ - INFO - 
脓毒症早期预警系统已完成执行。系统具有以下特点：
1. 大规模数据集：从MIMIC-IV中提取了大量真实患者数据
2. 高质量训练：使用了100轮次的训练，带有学习率调度和早停机制
3. 先进的模型架构：使用了多模态融合的神经网络结构
4. 详细的可视化：提供了风险轨迹、特征重要性等多种可视化图表
5. 完整的HTML报告：帮助医生解读模型结果

完整的结果可在 results 目录中查看，特别是:
- results/figures/: 各种可视化和性能图表

2025-04-14 21:57:22,781 - __main__ - INFO - ================================================================================
2025-04-14 21:57:22,781 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 21:57:22,782 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 21:57:22,782 - __main__ - INFO - ================================================================================
2025-04-14 21:57:22,784 - __main__ - INFO - 强制使用真实数据模式已启用
2025-04-14 21:57:22,784 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=True)
2025-04-14 21:57:22,865 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 21:57:22,865 - __main__ - INFO - 检查环境设置...
2025-04-14 21:57:25,503 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 21:57:25,503 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 21:57:26,987 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 21:57:26,987 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 21:57:26,988 - __main__ - INFO - 尝试直接检查数据库连接...
2025-04-14 21:57:26,988 - __main__ - INFO - 尝试连接数据库: 172.16.3.67:5432/mimiciv
2025-04-14 21:57:27,438 - __main__ - INFO - 数据库连接测试成功
2025-04-14 21:57:27,844 - __main__ - INFO - MIMIC-IV数据库中的病人数量: 364,627
2025-04-14 21:57:27,845 - __main__ - INFO - 开始生成MIMIC-IV派生表...
2025-04-14 21:57:27,846 - __main__ - ERROR - 检查派生表时出错: source code string cannot contain null bytes
2025-04-14 21:57:27,847 - __main__ - INFO - 执行任务: 生成MIMIC-IV派生表
2025-04-14 21:57:27,957 - __main__ - ERROR - 命令执行失败: python -m scripts.generate_derived_tables
2025-04-14 21:57:27,957 - __main__ - ERROR - 错误: Traceback (most recent call last):
  File "<frozen runpy>", line 189, in _run_module_as_main
  File "<frozen runpy>", line 112, in _get_module_details
SyntaxError: source code string cannot contain null bytes
2025-04-14 21:57:27,958 - __main__ - ERROR - 生成派生表失败，这是完整流程的关键步骤
2025-04-14 21:57:27,958 - __main__ - ERROR - 要使用真实数据，必须成功生成派生表
2025-04-14 21:57:27,958 - __main__ - ERROR - 派生表生成失败，这可能影响后续步骤
2025-04-14 21:57:27,960 - __main__ - ERROR - 强制使用真实数据模式已启用，但派生表生成失败，终止执行
2025-04-14 22:00:56,215 - __main__ - INFO - ================================================================================
2025-04-14 22:00:56,216 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 22:00:56,216 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 22:00:56,216 - __main__ - INFO - ================================================================================
2025-04-14 22:00:56,219 - __main__ - INFO - 强制使用真实数据模式已启用
2025-04-14 22:00:56,219 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=True)
2025-04-14 22:00:56,286 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 22:00:56,286 - __main__ - INFO - 检查环境设置...
2025-04-14 22:00:58,903 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 22:00:58,903 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 22:01:00,421 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 22:01:00,421 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 22:01:00,421 - __main__ - INFO - 尝试直接检查数据库连接...
2025-04-14 22:01:00,422 - __main__ - INFO - 尝试连接数据库: 172.16.3.67:5432/mimiciv
2025-04-14 22:01:00,754 - __main__ - INFO - 数据库连接测试成功
2025-04-14 22:01:00,880 - __main__ - INFO - MIMIC-IV数据库中的病人数量: 364,627
2025-04-14 22:01:00,881 - __main__ - INFO - 开始生成MIMIC-IV派生表...
2025-04-14 22:01:00,883 - __main__ - ERROR - 检查派生表时出错: source code string cannot contain null bytes
2025-04-14 22:01:00,883 - __main__ - INFO - 执行任务: 生成MIMIC-IV派生表
2025-04-14 22:01:01,004 - __main__ - ERROR - 命令执行失败: python -m scripts.generate_derived_tables
2025-04-14 22:01:01,004 - __main__ - ERROR - 错误: Traceback (most recent call last):
  File "<frozen runpy>", line 189, in _run_module_as_main
  File "<frozen runpy>", line 112, in _get_module_details
SyntaxError: source code string cannot contain null bytes
2025-04-14 22:01:01,005 - __main__ - ERROR - 生成派生表失败，这是完整流程的关键步骤
2025-04-14 22:01:01,006 - __main__ - ERROR - 要使用真实数据，必须成功生成派生表
2025-04-14 22:01:01,006 - __main__ - ERROR - 派生表生成失败，这可能影响后续步骤
2025-04-14 22:01:01,006 - __main__ - ERROR - 强制使用真实数据模式已启用，但派生表生成失败，终止执行
2025-04-14 22:03:04,567 - __main__ - INFO - ================================================================================
2025-04-14 22:03:04,568 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 22:03:04,568 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 22:03:04,568 - __main__ - INFO - ================================================================================
2025-04-14 22:03:04,571 - __main__ - INFO - 强制使用真实数据模式已启用
2025-04-14 22:03:04,571 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=True)
2025-04-14 22:03:04,661 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 22:03:04,661 - __main__ - INFO - 检查环境设置...
2025-04-14 22:03:07,280 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 22:03:07,281 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 22:03:08,773 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 22:03:08,775 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 22:03:08,775 - __main__ - INFO - 尝试直接检查数据库连接...
2025-04-14 22:03:08,776 - __main__ - INFO - 尝试连接数据库: 172.16.3.67:5432/mimiciv
2025-04-14 22:03:09,193 - __main__ - INFO - 数据库连接测试成功
2025-04-14 22:03:09,307 - __main__ - INFO - MIMIC-IV数据库中的病人数量: 364,627
2025-04-14 22:03:09,307 - __main__ - INFO - 开始生成MIMIC-IV派生表...
2025-04-14 22:03:09,308 - __main__ - ERROR - 检查派生表时出错: source code string cannot contain null bytes
2025-04-14 22:03:09,309 - __main__ - INFO - 执行任务: 生成MIMIC-IV派生表
2025-04-14 22:03:09,424 - __main__ - ERROR - 命令执行失败: python -m scripts.generate_derived_tables
2025-04-14 22:03:09,424 - __main__ - ERROR - 错误: Traceback (most recent call last):
  File "<frozen runpy>", line 189, in _run_module_as_main
  File "<frozen runpy>", line 112, in _get_module_details
SyntaxError: source code string cannot contain null bytes
2025-04-14 22:03:09,425 - __main__ - ERROR - 生成派生表失败，这是完整流程的关键步骤
2025-04-14 22:03:09,425 - __main__ - ERROR - 要使用真实数据，必须成功生成派生表
2025-04-14 22:03:09,425 - __main__ - ERROR - 派生表生成失败，这可能影响后续步骤
2025-04-14 22:03:09,425 - __main__ - ERROR - 强制使用真实数据模式已启用，但派生表生成失败，终止执行
2025-04-14 22:16:14,278 - __main__ - INFO - ================================================================================
2025-04-14 22:16:14,278 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 22:16:14,278 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 22:16:14,279 - __main__ - INFO - ================================================================================
2025-04-14 22:16:14,280 - __main__ - INFO - 强制使用真实数据模式已启用
2025-04-14 22:16:14,280 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=True)
2025-04-14 22:16:14,357 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 22:16:14,357 - __main__ - INFO - 检查环境设置...
2025-04-14 22:16:17,746 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 22:16:17,747 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 22:16:19,327 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 22:16:19,328 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 22:16:19,328 - __main__ - INFO - 尝试直接检查数据库连接...
2025-04-14 22:16:19,329 - __main__ - INFO - 尝试连接数据库: 172.16.3.67:5432/mimiciv
2025-04-14 22:16:40,373 - __main__ - ERROR - 数据库连接失败: connection to server at "172.16.3.67", port 5432 failed: Connection timed out (0x0000274C/10060)
	Is the server running on that host and accepting TCP/IP connections?

2025-04-14 22:16:40,375 - __main__ - ERROR - 强制使用真实数据模式已启用，但数据库连接失败，终止执行
2025-04-14 22:16:40,375 - __main__ - ERROR - 环境检查失败，终止执行
2025-04-14 22:19:46,810 - __main__ - INFO - ================================================================================
2025-04-14 22:19:46,811 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 22:19:46,811 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 22:19:46,812 - __main__ - INFO - ================================================================================
2025-04-14 22:19:46,814 - __main__ - INFO - 强制使用真实数据模式已启用
2025-04-14 22:19:46,814 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=True)
2025-04-14 22:19:46,890 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 22:19:46,890 - __main__ - INFO - 检查环境设置...
2025-04-14 22:19:49,425 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 22:19:49,426 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 22:19:50,892 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 22:19:50,892 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 22:19:50,892 - __main__ - INFO - 尝试直接检查数据库连接...
2025-04-14 22:19:50,893 - __main__ - INFO - 尝试连接数据库: 172.16.3.67:5432/mimiciv
2025-04-14 22:19:51,464 - __main__ - INFO - 数据库连接测试成功
2025-04-14 22:19:51,632 - __main__ - INFO - MIMIC-IV数据库中的病人数量: 364,627
2025-04-14 22:19:51,633 - __main__ - INFO - 开始生成MIMIC-IV派生表...
2025-04-14 22:19:51,641 - __main__ - ERROR - 检查派生表时出错: source code string cannot contain null bytes
2025-04-14 22:19:51,641 - __main__ - INFO - 执行任务: 生成MIMIC-IV派生表
2025-04-14 22:19:51,724 - __main__ - ERROR - 命令执行失败: python -m scripts.generate_derived_tables
2025-04-14 22:19:51,724 - __main__ - ERROR - 错误: Traceback (most recent call last):
  File "<frozen runpy>", line 189, in _run_module_as_main
  File "<frozen runpy>", line 112, in _get_module_details
SyntaxError: source code string cannot contain null bytes
2025-04-14 22:19:51,725 - __main__ - ERROR - 生成派生表失败，这是完整流程的关键步骤
2025-04-14 22:19:51,725 - __main__ - ERROR - 要使用真实数据，必须成功生成派生表
2025-04-14 22:19:51,725 - __main__ - ERROR - 派生表生成失败，这可能影响后续步骤
2025-04-14 22:19:51,726 - __main__ - ERROR - 强制使用真实数据模式已启用，但派生表生成失败，终止执行
2025-04-14 22:21:58,284 - __main__ - INFO - ================================================================================
2025-04-14 22:21:58,285 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 22:21:58,285 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 22:21:58,285 - __main__ - INFO - ================================================================================
2025-04-14 22:22:06,999 - __main__ - INFO - ================================================================================
2025-04-14 22:22:06,999 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 22:22:07,000 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 22:22:07,000 - __main__ - INFO - ================================================================================
2025-04-14 22:22:53,871 - __main__ - INFO - ================================================================================
2025-04-14 22:22:53,871 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 22:22:53,872 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 22:22:53,872 - __main__ - INFO - ================================================================================
2025-04-14 22:22:53,874 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=True, skip_training=False, only_viz=False, force_real_data=False)
2025-04-14 22:22:53,954 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 22:22:53,955 - __main__ - INFO - 检查环境设置...
2025-04-14 22:22:56,410 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 22:22:56,410 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 22:22:57,880 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 22:22:57,880 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 22:22:57,881 - __main__ - INFO - 尝试直接检查数据库连接...
2025-04-14 22:22:57,881 - __main__ - INFO - 尝试连接数据库: 172.16.3.67:5432/mimiciv
2025-04-14 22:22:58,175 - __main__ - INFO - 数据库连接测试成功
2025-04-14 22:22:58,281 - __main__ - INFO - MIMIC-IV数据库中的病人数量: 364,627
2025-04-14 22:22:58,282 - __main__ - INFO - 开始生成MIMIC-IV派生表...
2025-04-14 22:22:58,283 - __main__ - ERROR - 检查派生表时出错: source code string cannot contain null bytes
2025-04-14 22:22:58,284 - __main__ - INFO - 执行任务: 生成MIMIC-IV派生表
2025-04-14 22:22:58,380 - __main__ - ERROR - 命令执行失败: python -m scripts.generate_derived_tables
2025-04-14 22:22:58,380 - __main__ - ERROR - 错误: Traceback (most recent call last):
  File "<frozen runpy>", line 189, in _run_module_as_main
  File "<frozen runpy>", line 112, in _get_module_details
SyntaxError: source code string cannot contain null bytes
2025-04-14 22:22:58,387 - __main__ - ERROR - 生成派生表失败，这是完整流程的关键步骤
2025-04-14 22:22:58,387 - __main__ - ERROR - 要使用真实数据，必须成功生成派生表
2025-04-14 22:22:58,387 - __main__ - ERROR - 派生表生成失败，这可能影响后续步骤
2025-04-14 22:22:58,388 - __main__ - INFO - 开始训练脓毒症预测模型...
2025-04-14 22:22:58,388 - __main__ - ERROR - 训练所需文件不存在: data/processed/patient_features.csv
2025-04-14 22:22:58,388 - __main__ - ERROR - 模型训练失败，这可能影响后续步骤
2025-04-14 22:22:58,389 - __main__ - INFO - 开始生成可视化和报告...
2025-04-14 22:22:58,389 - __main__ - INFO - 执行任务: 生成可视化和报告
2025-04-14 22:22:58,846 - __main__ - INFO - 命令成功完成: python run_visualization.py (耗时: 0.46秒)
2025-04-14 22:22:58,848 - __main__ - INFO - 输出: 2025-04-14 22:22:58,800 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ���ʼ
2025-04-14 22:22:58,808 - __main__ - INFO - ��ʼ���ɿ��ӻ�...
2025-04-14 22:22:58,809 - __main__ - ERROR - ���ӻ����ɹ����г���: source code string cannot contain null bytes
2025-04-14 22:22:58,809 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\Documents\Downloads\ai\project\run_visualization.py", line 38, in main
    from utils.explanation import (
SyntaxError: source code string cannot contain null bytes

���ӻ��ͱ�������ʧ�ܣ���鿴��־�ļ���ȡ��ϸ��Ϣ
2025-04-14 22:22:58,849 - __main__ - WARNING - 预期可视化文件不存在: results/sepsis_prediction_results.html
2025-04-14 22:22:58,849 - __main__ - WARNING - 预期可视化文件不存在: results/figures/roc_curve.png
2025-04-14 22:22:58,849 - __main__ - WARNING - 预期可视化文件不存在: results/figures/risk_trajectories.png
2025-04-14 22:22:58,849 - __main__ - WARNING - 预期可视化文件不存在: results/figures/confusion_matrix.png
2025-04-14 22:22:58,849 - __main__ - WARNING - 预期可视化文件不存在: results/figures/feature_importance.png
2025-04-14 22:22:58,849 - __main__ - WARNING - 预期可视化文件不存在: results/figures/model_architecture.png
2025-04-14 22:22:58,850 - __main__ - INFO - 开始分析模型性能和结果...
2025-04-14 22:22:58,850 - __main__ - INFO - 执行任务: 分析模型结果
2025-04-14 22:22:58,938 - __main__ - ERROR - 命令执行失败: python -m scripts.analysis --full
2025-04-14 22:22:58,938 - __main__ - ERROR - 错误: Traceback (most recent call last):
  File "<frozen runpy>", line 189, in _run_module_as_main
  File "<frozen runpy>", line 112, in _get_module_details
SyntaxError: source code string cannot contain null bytes
2025-04-14 22:22:58,939 - __main__ - INFO - 流程执行情况:
2025-04-14 22:22:58,939 - __main__ - INFO - - 数据库派生表: 失败
2025-04-14 22:22:58,939 - __main__ - INFO - - 模型训练: 失败
2025-04-14 22:22:58,939 - __main__ - INFO - - 结果可视化: 成功
2025-04-14 22:22:58,941 - __main__ - INFO - - 结果分析: 失败
2025-04-14 22:22:58,941 - __main__ - INFO - 开始验证系统完整性...
2025-04-14 22:22:58,941 - __main__ - WARNING - 系统验证不完整: 部分组件缺失
2025-04-14 22:22:58,942 - __main__ - INFO - 脓毒症早期预警系统 - 执行完成，总耗时: 0.08 分钟
2025-04-14 22:22:58,942 - __main__ - INFO - 生成的关键文件:
2025-04-14 22:22:58,942 - __main__ - WARNING - - data/processed/patient_features.csv: 文件不存在
2025-04-14 22:22:58,943 - __main__ - WARNING - - data/processed/sepsis_labels.csv: 文件不存在
2025-04-14 22:22:58,943 - __main__ - WARNING - - models/best_model.pt: 文件不存在
2025-04-14 22:22:58,943 - __main__ - WARNING - - results/predictions.csv: 文件不存在
2025-04-14 22:22:58,943 - __main__ - WARNING - - results/figures/roc_curve.png: 文件不存在
2025-04-14 22:22:58,944 - __main__ - WARNING - - results/sepsis_prediction_results.html: 文件不存在
2025-04-14 22:22:58,944 - __main__ - INFO - 
脓毒症早期预警系统已完成执行。系统具有以下特点：
1. 大规模数据集：从MIMIC-IV中提取了大量真实患者数据
2. 高质量训练：使用了100轮次的训练，带有学习率调度和早停机制
3. 先进的模型架构：使用了多模态融合的神经网络结构
4. 详细的可视化：提供了风险轨迹、特征重要性等多种可视化图表
5. 完整的HTML报告：帮助医生解读模型结果

完整的结果可在 results 目录中查看，特别是:
- results/figures/: 各种可视化和性能图表

2025-04-14 22:24:29,701 - __main__ - INFO - ================================================================================
2025-04-14 22:24:29,702 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 22:24:29,702 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 22:24:29,702 - __main__ - INFO - ================================================================================
2025-04-14 22:24:29,704 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=True, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=False)
2025-04-14 22:24:29,772 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 22:24:29,772 - __main__ - INFO - 检查环境设置...
2025-04-14 22:24:32,244 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 22:24:32,244 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 22:24:33,718 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 22:24:33,718 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 22:24:33,719 - __main__ - INFO - 尝试直接检查数据库连接...
2025-04-14 22:24:33,719 - __main__ - INFO - 尝试连接数据库: 172.16.3.67:5432/mimiciv
2025-04-14 22:24:34,064 - __main__ - INFO - 数据库连接测试成功
2025-04-14 22:24:34,156 - __main__ - INFO - MIMIC-IV数据库中的病人数量: 364,627
2025-04-14 22:24:34,157 - __main__ - INFO - 开始从MIMIC-IV中提取临床数据...
2025-04-14 22:24:34,157 - __main__ - INFO - 执行任务: 提取临床数据
2025-04-14 22:24:34,236 - __main__ - ERROR - 命令执行失败: python -m scripts.data_extraction_main 
2025-04-14 22:24:34,236 - __main__ - ERROR - 错误: Traceback (most recent call last):
  File "<frozen runpy>", line 189, in _run_module_as_main
  File "<frozen runpy>", line 112, in _get_module_details
SyntaxError: source code string cannot contain null bytes
2025-04-14 22:24:34,236 - __main__ - ERROR - 数据提取失败
2025-04-14 22:24:34,237 - __main__ - ERROR - 数据提取失败，这可能影响后续步骤
2025-04-14 22:24:34,237 - __main__ - INFO - 开始训练脓毒症预测模型...
2025-04-14 22:24:34,237 - __main__ - ERROR - 训练所需文件不存在: data/processed/patient_features.csv
2025-04-14 22:24:34,237 - __main__ - ERROR - 模型训练失败，这可能影响后续步骤
2025-04-14 22:24:34,238 - __main__ - INFO - 开始生成可视化和报告...
2025-04-14 22:24:34,238 - __main__ - INFO - 执行任务: 生成可视化和报告
2025-04-14 22:24:34,763 - __main__ - INFO - 命令成功完成: python run_visualization.py (耗时: 0.53秒)
2025-04-14 22:24:34,763 - __main__ - INFO - 输出: 2025-04-14 22:24:34,723 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ���ʼ
2025-04-14 22:24:34,723 - __main__ - INFO - ��ʼ���ɿ��ӻ�...
2025-04-14 22:24:34,725 - __main__ - ERROR - ���ӻ����ɹ����г���: source code string cannot contain null bytes
2025-04-14 22:24:34,726 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\Documents\Downloads\ai\project\run_visualization.py", line 38, in main
    from utils.explanation import (
SyntaxError: source code string cannot contain null bytes

���ӻ��ͱ�������ʧ�ܣ���鿴��־�ļ���ȡ��ϸ��Ϣ
2025-04-14 22:24:34,764 - __main__ - WARNING - 预期可视化文件不存在: results/sepsis_prediction_results.html
2025-04-14 22:24:34,765 - __main__ - WARNING - 预期可视化文件不存在: results/figures/roc_curve.png
2025-04-14 22:24:34,765 - __main__ - WARNING - 预期可视化文件不存在: results/figures/risk_trajectories.png
2025-04-14 22:24:34,765 - __main__ - WARNING - 预期可视化文件不存在: results/figures/confusion_matrix.png
2025-04-14 22:24:34,765 - __main__ - WARNING - 预期可视化文件不存在: results/figures/feature_importance.png
2025-04-14 22:24:34,766 - __main__ - WARNING - 预期可视化文件不存在: results/figures/model_architecture.png
2025-04-14 22:24:34,766 - __main__ - INFO - 开始分析模型性能和结果...
2025-04-14 22:24:34,766 - __main__ - INFO - 执行任务: 分析模型结果
2025-04-14 22:24:34,844 - __main__ - ERROR - 命令执行失败: python -m scripts.analysis --full
2025-04-14 22:24:34,844 - __main__ - ERROR - 错误: Traceback (most recent call last):
  File "<frozen runpy>", line 189, in _run_module_as_main
  File "<frozen runpy>", line 112, in _get_module_details
SyntaxError: source code string cannot contain null bytes
2025-04-14 22:24:34,845 - __main__ - INFO - 流程执行情况:
2025-04-14 22:24:34,845 - __main__ - INFO - - 数据提取: 失败
2025-04-14 22:24:34,845 - __main__ - INFO - - 模型训练: 失败
2025-04-14 22:24:34,846 - __main__ - INFO - - 结果可视化: 成功
2025-04-14 22:24:34,846 - __main__ - INFO - - 结果分析: 失败
2025-04-14 22:24:34,846 - __main__ - INFO - 开始验证系统完整性...
2025-04-14 22:24:34,847 - __main__ - WARNING - 系统验证不完整: 部分组件缺失
2025-04-14 22:24:34,847 - __main__ - INFO - 脓毒症早期预警系统 - 执行完成，总耗时: 0.09 分钟
2025-04-14 22:24:34,847 - __main__ - INFO - 生成的关键文件:
2025-04-14 22:24:34,848 - __main__ - WARNING - - data/processed/patient_features.csv: 文件不存在
2025-04-14 22:24:34,848 - __main__ - WARNING - - data/processed/sepsis_labels.csv: 文件不存在
2025-04-14 22:24:34,848 - __main__ - WARNING - - models/best_model.pt: 文件不存在
2025-04-14 22:24:34,848 - __main__ - WARNING - - results/predictions.csv: 文件不存在
2025-04-14 22:24:34,848 - __main__ - WARNING - - results/figures/roc_curve.png: 文件不存在
2025-04-14 22:24:34,849 - __main__ - WARNING - - results/sepsis_prediction_results.html: 文件不存在
2025-04-14 22:24:34,849 - __main__ - INFO - 
脓毒症早期预警系统已完成执行。系统具有以下特点：
1. 大规模数据集：从MIMIC-IV中提取了大量真实患者数据
2. 高质量训练：使用了100轮次的训练，带有学习率调度和早停机制
3. 先进的模型架构：使用了多模态融合的神经网络结构
4. 详细的可视化：提供了风险轨迹、特征重要性等多种可视化图表
5. 完整的HTML报告：帮助医生解读模型结果

完整的结果可在 results 目录中查看，特别是:
- results/figures/: 各种可视化和性能图表

2025-04-14 23:00:12,034 - __main__ - INFO - ================================================================================
2025-04-14 23:00:12,034 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 23:00:12,034 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 23:00:12,035 - __main__ - INFO - ================================================================================
2025-04-14 23:00:12,036 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=True, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=False)
2025-04-14 23:00:12,122 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 23:00:12,123 - __main__ - INFO - 检查环境设置...
2025-04-14 23:00:14,972 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 23:00:14,972 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 23:00:16,489 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:00:16,490 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 23:00:16,490 - __main__ - INFO - 尝试直接检查数据库连接...
2025-04-14 23:00:16,490 - __main__ - INFO - 尝试连接数据库: 172.16.3.67:5432/mimiciv
2025-04-14 23:00:16,728 - __main__ - INFO - 数据库连接测试成功
2025-04-14 23:00:16,821 - __main__ - INFO - MIMIC-IV数据库中的病人数量: 364,627
2025-04-14 23:00:16,821 - __main__ - INFO - 开始从MIMIC-IV中提取临床数据...
2025-04-14 23:00:16,822 - __main__ - INFO - 执行任务: 提取临床数据
2025-04-14 23:00:16,941 - __main__ - ERROR - 命令执行失败: python -m scripts.data_extraction_main 
2025-04-14 23:00:16,943 - __main__ - ERROR - 错误: Traceback (most recent call last):
  File "<frozen runpy>", line 189, in _run_module_as_main
  File "<frozen runpy>", line 112, in _get_module_details
  File "D:\Documents\Downloads\ai\project\scripts\__init__.py", line 1
    \ufffd\ufffd
    ^
SyntaxError: (unicode error) 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte
2025-04-14 23:00:16,944 - __main__ - ERROR - 数据提取失败
2025-04-14 23:00:16,944 - __main__ - ERROR - 数据提取失败，这可能影响后续步骤
2025-04-14 23:00:16,944 - __main__ - INFO - 开始训练脓毒症预测模型...
2025-04-14 23:00:16,945 - __main__ - ERROR - 训练所需文件不存在: data/processed/patient_features.csv
2025-04-14 23:00:16,945 - __main__ - ERROR - 模型训练失败，这可能影响后续步骤
2025-04-14 23:00:16,945 - __main__ - INFO - 开始生成可视化和报告...
2025-04-14 23:00:16,945 - __main__ - INFO - 执行任务: 生成可视化和报告
2025-04-14 23:00:17,453 - __main__ - INFO - 命令成功完成: python run_visualization.py (耗时: 0.51秒)
2025-04-14 23:00:17,454 - __main__ - INFO - 输出: 2025-04-14 23:00:17,412 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ���ʼ
2025-04-14 23:00:17,413 - __main__ - INFO - ��ʼ���ɿ��ӻ�...
2025-04-14 23:00:17,414 - __main__ - ERROR - ���ӻ����ɹ����г���: (unicode error) 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte (__init__.py, line 1)
2025-04-14 23:00:17,415 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\Documents\Downloads\ai\project\run_visualization.py", line 38, in main
    from utils.explanation import (
  File "D:\Documents\Downloads\ai\project\utils\__init__.py", line 1
    \ufffd\ufffd
    ^
SyntaxError: (unicode error) 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte

���ӻ��ͱ�������ʧ�ܣ���鿴��־�ļ���ȡ��ϸ��Ϣ
2025-04-14 23:00:17,456 - __main__ - WARNING - 预期可视化文件不存在: results/sepsis_prediction_results.html
2025-04-14 23:00:17,456 - __main__ - WARNING - 预期可视化文件不存在: results/figures/roc_curve.png
2025-04-14 23:00:17,457 - __main__ - WARNING - 预期可视化文件不存在: results/figures/risk_trajectories.png
2025-04-14 23:00:17,457 - __main__ - WARNING - 预期可视化文件不存在: results/figures/confusion_matrix.png
2025-04-14 23:00:17,457 - __main__ - WARNING - 预期可视化文件不存在: results/figures/feature_importance.png
2025-04-14 23:00:17,458 - __main__ - WARNING - 预期可视化文件不存在: results/figures/model_architecture.png
2025-04-14 23:00:17,458 - __main__ - INFO - 开始分析模型性能和结果...
2025-04-14 23:00:17,458 - __main__ - INFO - 执行任务: 分析模型结果
2025-04-14 23:00:17,587 - __main__ - ERROR - 命令执行失败: python -m scripts.analysis --full
2025-04-14 23:00:17,588 - __main__ - ERROR - 错误: Traceback (most recent call last):
  File "<frozen runpy>", line 189, in _run_module_as_main
  File "<frozen runpy>", line 112, in _get_module_details
  File "D:\Documents\Downloads\ai\project\scripts\__init__.py", line 1
    \ufffd\ufffd
    ^
SyntaxError: (unicode error) 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte
2025-04-14 23:00:17,588 - __main__ - INFO - 流程执行情况:
2025-04-14 23:00:17,589 - __main__ - INFO - - 数据提取: 失败
2025-04-14 23:00:17,589 - __main__ - INFO - - 模型训练: 失败
2025-04-14 23:00:17,589 - __main__ - INFO - - 结果可视化: 成功
2025-04-14 23:00:17,589 - __main__ - INFO - - 结果分析: 失败
2025-04-14 23:00:17,589 - __main__ - INFO - 开始验证系统完整性...
2025-04-14 23:00:17,590 - __main__ - WARNING - 系统验证不完整: 部分组件缺失
2025-04-14 23:00:17,590 - __main__ - INFO - 脓毒症早期预警系统 - 执行完成，总耗时: 0.09 分钟
2025-04-14 23:00:17,590 - __main__ - INFO - 生成的关键文件:
2025-04-14 23:00:17,590 - __main__ - WARNING - - data/processed/patient_features.csv: 文件不存在
2025-04-14 23:00:17,591 - __main__ - WARNING - - data/processed/sepsis_labels.csv: 文件不存在
2025-04-14 23:00:17,591 - __main__ - WARNING - - models/best_model.pt: 文件不存在
2025-04-14 23:00:17,592 - __main__ - WARNING - - results/predictions.csv: 文件不存在
2025-04-14 23:00:17,592 - __main__ - WARNING - - results/figures/roc_curve.png: 文件不存在
2025-04-14 23:00:17,593 - __main__ - WARNING - - results/sepsis_prediction_results.html: 文件不存在
2025-04-14 23:00:17,593 - __main__ - INFO - 
脓毒症早期预警系统已完成执行。系统具有以下特点：
1. 大规模数据集：从MIMIC-IV中提取了大量真实患者数据
2. 高质量训练：使用了100轮次的训练，带有学习率调度和早停机制
3. 先进的模型架构：使用了多模态融合的神经网络结构
4. 详细的可视化：提供了风险轨迹、特征重要性等多种可视化图表
5. 完整的HTML报告：帮助医生解读模型结果

完整的结果可在 results 目录中查看，特别是:
- results/figures/: 各种可视化和性能图表

2025-04-14 23:02:31,048 - __main__ - INFO - ================================================================================
2025-04-14 23:02:31,048 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 23:02:31,048 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 23:02:31,049 - __main__ - INFO - ================================================================================
2025-04-14 23:02:31,050 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=False)
2025-04-14 23:02:31,118 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 23:02:31,118 - __main__ - INFO - 检查环境设置...
2025-04-14 23:02:33,410 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 23:02:33,410 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 23:02:34,868 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:02:34,868 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 23:02:34,869 - __main__ - INFO - 尝试直接检查数据库连接...
2025-04-14 23:02:34,869 - __main__ - INFO - 尝试连接数据库: 172.16.3.67:5432/mimiciv
2025-04-14 23:02:35,221 - __main__ - INFO - 数据库连接测试成功
2025-04-14 23:02:35,292 - __main__ - INFO - MIMIC-IV数据库中的病人数量: 364,627
2025-04-14 23:02:35,292 - __main__ - INFO - 开始生成MIMIC-IV派生表...
2025-04-14 23:02:35,294 - __main__ - ERROR - 检查派生表时出错: (unicode error) 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte (__init__.py, line 1)
2025-04-14 23:02:35,294 - __main__ - INFO - 执行任务: 生成MIMIC-IV派生表
2025-04-14 23:02:35,359 - __main__ - ERROR - 命令执行失败: python -m scripts.generate_derived_tables
2025-04-14 23:02:35,361 - __main__ - ERROR - 错误: Traceback (most recent call last):
  File "<frozen runpy>", line 189, in _run_module_as_main
  File "<frozen runpy>", line 112, in _get_module_details
  File "D:\Documents\Downloads\ai\project\scripts\__init__.py", line 1
    \ufffd\ufffd
    ^
SyntaxError: (unicode error) 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte
2025-04-14 23:02:35,362 - __main__ - ERROR - 生成派生表失败，这是完整流程的关键步骤
2025-04-14 23:02:35,362 - __main__ - ERROR - 要使用真实数据，必须成功生成派生表
2025-04-14 23:02:35,362 - __main__ - ERROR - 派生表生成失败，这可能影响后续步骤
2025-04-14 23:02:35,362 - __main__ - INFO - 开始从MIMIC-IV中提取临床数据...
2025-04-14 23:02:35,362 - __main__ - INFO - 执行任务: 提取临床数据
2025-04-14 23:02:35,431 - __main__ - ERROR - 命令执行失败: python -m scripts.data_extraction_main 
2025-04-14 23:02:35,431 - __main__ - ERROR - 错误: Traceback (most recent call last):
  File "<frozen runpy>", line 189, in _run_module_as_main
  File "<frozen runpy>", line 112, in _get_module_details
  File "D:\Documents\Downloads\ai\project\scripts\__init__.py", line 1
    \ufffd\ufffd
    ^
SyntaxError: (unicode error) 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte
2025-04-14 23:02:35,432 - __main__ - ERROR - 数据提取失败
2025-04-14 23:02:35,432 - __main__ - ERROR - 数据提取失败，这可能影响后续步骤
2025-04-14 23:02:35,432 - __main__ - INFO - 开始训练脓毒症预测模型...
2025-04-14 23:02:35,432 - __main__ - ERROR - 训练所需文件不存在: data/processed/patient_features.csv
2025-04-14 23:02:35,433 - __main__ - ERROR - 模型训练失败，这可能影响后续步骤
2025-04-14 23:02:35,433 - __main__ - INFO - 开始生成可视化和报告...
2025-04-14 23:02:35,433 - __main__ - INFO - 执行任务: 生成可视化和报告
2025-04-14 23:02:35,834 - __main__ - INFO - 命令成功完成: python run_visualization.py (耗时: 0.40秒)
2025-04-14 23:02:35,836 - __main__ - INFO - 输出: 2025-04-14 23:02:35,798 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ���ʼ
2025-04-14 23:02:35,799 - __main__ - INFO - ��ʼ���ɿ��ӻ�...
2025-04-14 23:02:35,800 - __main__ - ERROR - ���ӻ����ɹ����г���: (unicode error) 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte (__init__.py, line 1)
2025-04-14 23:02:35,800 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\Documents\Downloads\ai\project\run_visualization.py", line 38, in main
    from utils.explanation import (
  File "D:\Documents\Downloads\ai\project\utils\__init__.py", line 1
    \ufffd\ufffd
    ^
SyntaxError: (unicode error) 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte

���ӻ��ͱ�������ʧ�ܣ���鿴��־�ļ���ȡ��ϸ��Ϣ
2025-04-14 23:02:35,837 - __main__ - WARNING - 预期可视化文件不存在: results/sepsis_prediction_results.html
2025-04-14 23:02:35,837 - __main__ - WARNING - 预期可视化文件不存在: results/figures/roc_curve.png
2025-04-14 23:02:35,837 - __main__ - WARNING - 预期可视化文件不存在: results/figures/risk_trajectories.png
2025-04-14 23:02:35,838 - __main__ - WARNING - 预期可视化文件不存在: results/figures/confusion_matrix.png
2025-04-14 23:02:35,838 - __main__ - WARNING - 预期可视化文件不存在: results/figures/feature_importance.png
2025-04-14 23:02:35,838 - __main__ - WARNING - 预期可视化文件不存在: results/figures/model_architecture.png
2025-04-14 23:02:35,838 - __main__ - INFO - 开始分析模型性能和结果...
2025-04-14 23:02:35,838 - __main__ - INFO - 执行任务: 分析模型结果
2025-04-14 23:02:35,905 - __main__ - ERROR - 命令执行失败: python -m scripts.analysis --full
2025-04-14 23:02:35,905 - __main__ - ERROR - 错误: Traceback (most recent call last):
  File "<frozen runpy>", line 189, in _run_module_as_main
  File "<frozen runpy>", line 112, in _get_module_details
  File "D:\Documents\Downloads\ai\project\scripts\__init__.py", line 1
    \ufffd\ufffd
    ^
SyntaxError: (unicode error) 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte
2025-04-14 23:02:35,906 - __main__ - INFO - 流程执行情况:
2025-04-14 23:02:35,906 - __main__ - INFO - - 数据库派生表: 失败
2025-04-14 23:02:35,906 - __main__ - INFO - - 数据提取: 失败
2025-04-14 23:02:35,906 - __main__ - INFO - - 模型训练: 失败
2025-04-14 23:02:35,906 - __main__ - INFO - - 结果可视化: 成功
2025-04-14 23:02:35,906 - __main__ - INFO - - 结果分析: 失败
2025-04-14 23:02:35,906 - __main__ - INFO - 开始验证系统完整性...
2025-04-14 23:02:35,907 - __main__ - WARNING - 系统验证不完整: 部分组件缺失
2025-04-14 23:02:35,907 - __main__ - INFO - 脓毒症早期预警系统 - 执行完成，总耗时: 0.08 分钟
2025-04-14 23:02:35,907 - __main__ - INFO - 生成的关键文件:
2025-04-14 23:02:35,907 - __main__ - WARNING - - data/processed/patient_features.csv: 文件不存在
2025-04-14 23:02:35,908 - __main__ - WARNING - - data/processed/sepsis_labels.csv: 文件不存在
2025-04-14 23:02:35,908 - __main__ - WARNING - - models/best_model.pt: 文件不存在
2025-04-14 23:02:35,908 - __main__ - WARNING - - results/predictions.csv: 文件不存在
2025-04-14 23:02:35,908 - __main__ - WARNING - - results/figures/roc_curve.png: 文件不存在
2025-04-14 23:02:35,909 - __main__ - WARNING - - results/sepsis_prediction_results.html: 文件不存在
2025-04-14 23:02:35,909 - __main__ - INFO - 
脓毒症早期预警系统已完成执行。系统具有以下特点：
1. 大规模数据集：从MIMIC-IV中提取了大量真实患者数据
2. 高质量训练：使用了100轮次的训练，带有学习率调度和早停机制
3. 先进的模型架构：使用了多模态融合的神经网络结构
4. 详细的可视化：提供了风险轨迹、特征重要性等多种可视化图表
5. 完整的HTML报告：帮助医生解读模型结果

完整的结果可在 results 目录中查看，特别是:
- results/figures/: 各种可视化和性能图表

2025-04-14 23:03:51,255 - __main__ - INFO - ================================================================================
2025-04-14 23:03:51,256 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 23:03:51,256 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 23:03:51,256 - __main__ - INFO - ================================================================================
2025-04-14 23:03:51,258 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=True, force_real_data=False)
2025-04-14 23:03:51,323 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 23:03:51,323 - __main__ - INFO - 检查环境设置...
2025-04-14 23:03:53,648 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 23:03:53,648 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 23:03:55,110 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:03:55,111 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 23:03:55,111 - __main__ - INFO - 只运行可视化模式，跳过数据库检查
2025-04-14 23:03:55,111 - __main__ - INFO - 只运行可视化部分
2025-04-14 23:03:55,112 - __main__ - INFO - 开始生成可视化和报告...
2025-04-14 23:03:55,112 - __main__ - INFO - 执行任务: 生成可视化和报告
2025-04-14 23:03:55,515 - __main__ - INFO - 命令成功完成: python run_visualization.py (耗时: 0.40秒)
2025-04-14 23:03:55,515 - __main__ - INFO - 输出: 2025-04-14 23:03:55,476 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ���ʼ
2025-04-14 23:03:55,477 - __main__ - INFO - ��ʼ���ɿ��ӻ�...
2025-04-14 23:03:55,477 - __main__ - ERROR - ���ӻ����ɹ����г���: (unicode error) 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte (__init__.py, line 1)
2025-04-14 23:03:55,478 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\Documents\Downloads\ai\project\run_visualization.py", line 38, in main
    from utils.explanation import (
  File "D:\Documents\Downloads\ai\project\utils\__init__.py", line 1
    \ufffd\ufffd
    ^
SyntaxError: (unicode error) 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte

���ӻ��ͱ�������ʧ�ܣ���鿴��־�ļ���ȡ��ϸ��Ϣ
2025-04-14 23:03:55,517 - __main__ - WARNING - 预期可视化文件不存在: results/sepsis_prediction_results.html
2025-04-14 23:03:55,517 - __main__ - WARNING - 预期可视化文件不存在: results/figures/roc_curve.png
2025-04-14 23:03:55,517 - __main__ - WARNING - 预期可视化文件不存在: results/figures/risk_trajectories.png
2025-04-14 23:03:55,517 - __main__ - WARNING - 预期可视化文件不存在: results/figures/confusion_matrix.png
2025-04-14 23:03:55,518 - __main__ - WARNING - 预期可视化文件不存在: results/figures/feature_importance.png
2025-04-14 23:03:55,518 - __main__ - WARNING - 预期可视化文件不存在: results/figures/model_architecture.png
2025-04-14 23:03:55,518 - __main__ - INFO - 脓毒症早期预警系统 - 执行完成，总耗时: 0.07 分钟
2025-04-14 23:03:55,518 - __main__ - INFO - 生成的关键文件:
2025-04-14 23:03:55,518 - __main__ - WARNING - - data/processed/patient_features.csv: 文件不存在
2025-04-14 23:03:55,519 - __main__ - WARNING - - data/processed/sepsis_labels.csv: 文件不存在
2025-04-14 23:03:55,519 - __main__ - WARNING - - models/best_model.pt: 文件不存在
2025-04-14 23:03:55,519 - __main__ - WARNING - - results/predictions.csv: 文件不存在
2025-04-14 23:03:55,519 - __main__ - WARNING - - results/figures/roc_curve.png: 文件不存在
2025-04-14 23:03:55,520 - __main__ - WARNING - - results/sepsis_prediction_results.html: 文件不存在
2025-04-14 23:03:55,520 - __main__ - INFO - 
脓毒症早期预警系统已完成执行。系统具有以下特点：
1. 大规模数据集：从MIMIC-IV中提取了大量真实患者数据
2. 高质量训练：使用了100轮次的训练，带有学习率调度和早停机制
3. 先进的模型架构：使用了多模态融合的神经网络结构
4. 详细的可视化：提供了风险轨迹、特征重要性等多种可视化图表
5. 完整的HTML报告：帮助医生解读模型结果

完整的结果可在 results 目录中查看，特别是:
- results/figures/: 各种可视化和性能图表

2025-04-14 23:08:01,020 - __main__ - INFO - ================================================================================
2025-04-14 23:08:01,020 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 23:08:01,021 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 23:08:01,021 - __main__ - INFO - ================================================================================
2025-04-14 23:08:01,023 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=True, force_real_data=False)
2025-04-14 23:08:01,092 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 23:08:01,092 - __main__ - INFO - 检查环境设置...
2025-04-14 23:08:03,489 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 23:08:03,489 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 23:08:04,971 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:08:04,972 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 23:08:04,972 - __main__ - INFO - 只运行可视化模式，跳过数据库检查
2025-04-14 23:08:04,972 - __main__ - INFO - 只运行可视化部分
2025-04-14 23:08:04,972 - __main__ - INFO - 开始生成可视化和报告...
2025-04-14 23:08:04,973 - __main__ - INFO - 执行任务: 生成可视化和报告
2025-04-14 23:08:05,377 - __main__ - INFO - 命令成功完成: python run_visualization.py (耗时: 0.40秒)
2025-04-14 23:08:05,377 - __main__ - INFO - 输出: 2025-04-14 23:08:05,339 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ���ʼ
2025-04-14 23:08:05,340 - __main__ - INFO - ��ʼ���ɿ��ӻ�...
2025-04-14 23:08:05,341 - __main__ - ERROR - ���ӻ����ɹ����г���: source code string cannot contain null bytes
2025-04-14 23:08:05,341 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\Documents\Downloads\ai\project\run_visualization.py", line 38, in main
    from utils.explanation import (
SyntaxError: source code string cannot contain null bytes

���ӻ��ͱ�������ʧ�ܣ���鿴��־�ļ���ȡ��ϸ��Ϣ
2025-04-14 23:08:05,378 - __main__ - WARNING - 预期可视化文件不存在: results/sepsis_prediction_results.html
2025-04-14 23:08:05,379 - __main__ - WARNING - 预期可视化文件不存在: results/figures/roc_curve.png
2025-04-14 23:08:05,379 - __main__ - WARNING - 预期可视化文件不存在: results/figures/risk_trajectories.png
2025-04-14 23:08:05,379 - __main__ - WARNING - 预期可视化文件不存在: results/figures/confusion_matrix.png
2025-04-14 23:08:05,379 - __main__ - WARNING - 预期可视化文件不存在: results/figures/feature_importance.png
2025-04-14 23:08:05,380 - __main__ - WARNING - 预期可视化文件不存在: results/figures/model_architecture.png
2025-04-14 23:08:05,380 - __main__ - INFO - 脓毒症早期预警系统 - 执行完成，总耗时: 0.07 分钟
2025-04-14 23:08:05,380 - __main__ - INFO - 生成的关键文件:
2025-04-14 23:08:05,380 - __main__ - WARNING - - data/processed/patient_features.csv: 文件不存在
2025-04-14 23:08:05,381 - __main__ - WARNING - - data/processed/sepsis_labels.csv: 文件不存在
2025-04-14 23:08:05,381 - __main__ - WARNING - - models/best_model.pt: 文件不存在
2025-04-14 23:08:05,381 - __main__ - WARNING - - results/predictions.csv: 文件不存在
2025-04-14 23:08:05,381 - __main__ - WARNING - - results/figures/roc_curve.png: 文件不存在
2025-04-14 23:08:05,381 - __main__ - WARNING - - results/sepsis_prediction_results.html: 文件不存在
2025-04-14 23:08:05,382 - __main__ - INFO - 
脓毒症早期预警系统已完成执行。系统具有以下特点：
1. 大规模数据集：从MIMIC-IV中提取了大量真实患者数据
2. 高质量训练：使用了100轮次的训练，带有学习率调度和早停机制
3. 先进的模型架构：使用了多模态融合的神经网络结构
4. 详细的可视化：提供了风险轨迹、特征重要性等多种可视化图表
5. 完整的HTML报告：帮助医生解读模型结果

完整的结果可在 results 目录中查看，特别是:
- results/figures/: 各种可视化和性能图表

2025-04-14 23:09:43,000 - __main__ - INFO - ================================================================================
2025-04-14 23:09:43,000 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 23:09:43,000 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 23:09:43,000 - __main__ - INFO - ================================================================================
2025-04-14 23:09:43,003 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=True, force_real_data=False)
2025-04-14 23:09:43,078 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 23:09:43,078 - __main__ - INFO - 检查环境设置...
2025-04-14 23:09:45,491 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 23:09:45,492 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 23:09:46,967 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:09:46,968 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 23:09:46,968 - __main__ - INFO - 只运行可视化模式，跳过数据库检查
2025-04-14 23:09:46,968 - __main__ - INFO - 只运行可视化部分
2025-04-14 23:09:46,968 - __main__ - INFO - 开始生成可视化和报告...
2025-04-14 23:09:46,969 - __main__ - INFO - 执行任务: 生成可视化和报告
2025-04-14 23:09:47,376 - __main__ - INFO - 命令成功完成: python run_visualization.py (耗时: 0.41秒)
2025-04-14 23:09:47,376 - __main__ - INFO - 输出: 2025-04-14 23:09:47,339 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ���ʼ
2025-04-14 23:09:47,340 - __main__ - INFO - ��ʼ���ɿ��ӻ�...
2025-04-14 23:09:47,340 - __main__ - ERROR - ���ӻ����ɹ����г���: source code string cannot contain null bytes
2025-04-14 23:09:47,341 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\Documents\Downloads\ai\project\run_visualization.py", line 38, in main
    from utils.explanation import (
SyntaxError: source code string cannot contain null bytes

���ӻ��ͱ�������ʧ�ܣ���鿴��־�ļ���ȡ��ϸ��Ϣ
2025-04-14 23:09:47,377 - __main__ - WARNING - 预期可视化文件不存在: results/sepsis_prediction_results.html
2025-04-14 23:09:47,378 - __main__ - WARNING - 预期可视化文件不存在: results/figures/roc_curve.png
2025-04-14 23:09:47,378 - __main__ - WARNING - 预期可视化文件不存在: results/figures/risk_trajectories.png
2025-04-14 23:09:47,378 - __main__ - WARNING - 预期可视化文件不存在: results/figures/confusion_matrix.png
2025-04-14 23:09:47,379 - __main__ - WARNING - 预期可视化文件不存在: results/figures/feature_importance.png
2025-04-14 23:09:47,379 - __main__ - WARNING - 预期可视化文件不存在: results/figures/model_architecture.png
2025-04-14 23:09:47,379 - __main__ - INFO - 脓毒症早期预警系统 - 执行完成，总耗时: 0.07 分钟
2025-04-14 23:09:47,379 - __main__ - INFO - 生成的关键文件:
2025-04-14 23:09:47,380 - __main__ - WARNING - - data/processed/patient_features.csv: 文件不存在
2025-04-14 23:09:47,380 - __main__ - WARNING - - data/processed/sepsis_labels.csv: 文件不存在
2025-04-14 23:09:47,380 - __main__ - WARNING - - models/best_model.pt: 文件不存在
2025-04-14 23:09:47,381 - __main__ - WARNING - - results/predictions.csv: 文件不存在
2025-04-14 23:09:47,381 - __main__ - WARNING - - results/figures/roc_curve.png: 文件不存在
2025-04-14 23:09:47,381 - __main__ - WARNING - - results/sepsis_prediction_results.html: 文件不存在
2025-04-14 23:09:47,381 - __main__ - INFO - 
脓毒症早期预警系统已完成执行。系统具有以下特点：
1. 大规模数据集：从MIMIC-IV中提取了大量真实患者数据
2. 高质量训练：使用了100轮次的训练，带有学习率调度和早停机制
3. 先进的模型架构：使用了多模态融合的神经网络结构
4. 详细的可视化：提供了风险轨迹、特征重要性等多种可视化图表
5. 完整的HTML报告：帮助医生解读模型结果

完整的结果可在 results 目录中查看，特别是:
- results/figures/: 各种可视化和性能图表

2025-04-14 23:11:32,351 - __main__ - INFO - ================================================================================
2025-04-14 23:11:32,351 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 23:11:32,352 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 23:11:32,352 - __main__ - INFO - ================================================================================
2025-04-14 23:11:32,354 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=True, force_real_data=False)
2025-04-14 23:11:32,424 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 23:11:32,425 - __main__ - INFO - 检查环境设置...
2025-04-14 23:11:34,775 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 23:11:34,775 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 23:11:36,255 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:11:36,256 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 23:11:36,256 - __main__ - INFO - 只运行可视化模式，跳过数据库检查
2025-04-14 23:11:36,256 - __main__ - INFO - 只运行可视化部分
2025-04-14 23:11:36,256 - __main__ - INFO - 开始生成可视化和报告...
2025-04-14 23:11:36,257 - __main__ - INFO - 执行任务: 生成可视化和报告
2025-04-14 23:11:40,778 - __main__ - INFO - 命令成功完成: python run_visualization.py (耗时: 4.52秒)
2025-04-14 23:11:40,778 - __main__ - INFO - 输出: 2025-04-14 23:11:38,260 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ���ʼ
2025-04-14 23:11:38,261 - __main__ - INFO - ����ROC����...
2025-04-14 23:11:38,994 - __main__ - INFO - ���ɷ��չ켣ͼ...
2025-04-14 23:11:39,506 - __main__ - INFO - ���ɻ�������...
2025-04-14 23:11:39,892 - __main__ - INFO - ����������Ҫ��ͼ...
2025-04-14 23:11:40,393 - __main__ - INFO - ����HTML����...
2025-04-14 23:11:40,394 - __main__ - INFO - HTML����������: results/sepsis_prediction_results.html
2025-04-14 23:11:40,394 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ����
HTML����������: results/sepsis_prediction_results.html
���ӻ��ͱ������ɳɹ�����鿴 results Ŀ¼
2025-04-14 23:11:40,780 - __main__ - INFO - 生成的可视化文件: results/sepsis_prediction_results.html (4.42 KB)
2025-04-14 23:11:40,781 - __main__ - INFO - 生成的可视化文件: results/figures/roc_curve.png (129.93 KB)
2025-04-14 23:11:40,781 - __main__ - INFO - 生成的可视化文件: results/figures/risk_trajectories.png (333.66 KB)
2025-04-14 23:11:40,781 - __main__ - INFO - 生成的可视化文件: results/figures/confusion_matrix.png (89.21 KB)
2025-04-14 23:11:40,781 - __main__ - INFO - 生成的可视化文件: results/figures/feature_importance.png (137.88 KB)
2025-04-14 23:11:40,782 - __main__ - WARNING - 预期可视化文件不存在: results/figures/model_architecture.png
2025-04-14 23:11:40,782 - __main__ - INFO - 脓毒症早期预警系统 - 执行完成，总耗时: 0.14 分钟
2025-04-14 23:11:40,782 - __main__ - INFO - 生成的关键文件:
2025-04-14 23:11:40,782 - __main__ - WARNING - - data/processed/patient_features.csv: 文件不存在
2025-04-14 23:11:40,783 - __main__ - WARNING - - data/processed/sepsis_labels.csv: 文件不存在
2025-04-14 23:11:40,783 - __main__ - WARNING - - models/best_model.pt: 文件不存在
2025-04-14 23:11:40,783 - __main__ - WARNING - - results/predictions.csv: 文件不存在
2025-04-14 23:11:40,783 - __main__ - INFO - - results/figures/roc_curve.png: 129.93 KB
2025-04-14 23:11:40,784 - __main__ - INFO - - results/sepsis_prediction_results.html: 4.42 KB
2025-04-14 23:11:40,784 - __main__ - INFO - 
脓毒症早期预警系统已完成执行。系统具有以下特点：
1. 大规模数据集：从MIMIC-IV中提取了大量真实患者数据
2. 高质量训练：使用了100轮次的训练，带有学习率调度和早停机制
3. 先进的模型架构：使用了多模态融合的神经网络结构
4. 详细的可视化：提供了风险轨迹、特征重要性等多种可视化图表
5. 完整的HTML报告：帮助医生解读模型结果

完整的结果可在 results 目录中查看，特别是:
- results/figures/: 各种可视化和性能图表

2025-04-14 23:12:03,306 - __main__ - INFO - ================================================================================
2025-04-14 23:12:03,307 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 23:12:03,307 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 23:12:03,307 - __main__ - INFO - ================================================================================
2025-04-14 23:12:03,309 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=True, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=False)
2025-04-14 23:12:03,371 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 23:12:03,372 - __main__ - INFO - 检查环境设置...
2025-04-14 23:12:05,632 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 23:12:05,632 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 23:12:07,094 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:12:07,094 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 23:12:07,094 - __main__ - INFO - 尝试直接检查数据库连接...
2025-04-14 23:12:07,095 - __main__ - INFO - 尝试连接数据库: 172.16.3.67:5432/mimiciv
2025-04-14 23:12:07,321 - __main__ - INFO - 数据库连接测试成功
2025-04-14 23:12:07,409 - __main__ - INFO - MIMIC-IV数据库中的病人数量: 364,627
2025-04-14 23:12:07,409 - __main__ - INFO - 开始从MIMIC-IV中提取临床数据...
2025-04-14 23:12:07,409 - __main__ - INFO - 执行任务: 提取临床数据
2025-04-14 23:12:07,484 - __main__ - ERROR - 命令执行失败: python -m scripts.data_extraction_main 
2025-04-14 23:12:07,485 - __main__ - ERROR - 错误: Traceback (most recent call last):
  File "<frozen runpy>", line 189, in _run_module_as_main
  File "<frozen runpy>", line 112, in _get_module_details
SyntaxError: source code string cannot contain null bytes
2025-04-14 23:12:07,485 - __main__ - ERROR - 数据提取失败
2025-04-14 23:12:07,485 - __main__ - ERROR - 数据提取失败，这可能影响后续步骤
2025-04-14 23:12:07,485 - __main__ - INFO - 开始训练脓毒症预测模型...
2025-04-14 23:12:07,485 - __main__ - ERROR - 训练所需文件不存在: data/processed/patient_features.csv
2025-04-14 23:12:07,487 - __main__ - ERROR - 模型训练失败，这可能影响后续步骤
2025-04-14 23:12:07,487 - __main__ - INFO - 开始生成可视化和报告...
2025-04-14 23:12:07,487 - __main__ - INFO - 执行任务: 生成可视化和报告
2025-04-14 23:12:12,080 - __main__ - INFO - 命令成功完成: python run_visualization.py (耗时: 4.59秒)
2025-04-14 23:12:12,081 - __main__ - INFO - 输出: 2025-04-14 23:12:09,495 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ���ʼ
2025-04-14 23:12:09,495 - __main__ - INFO - ����ROC����...
2025-04-14 23:12:10,275 - __main__ - INFO - ���ɷ��չ켣ͼ...
2025-04-14 23:12:10,796 - __main__ - INFO - ���ɻ�������...
2025-04-14 23:12:11,185 - __main__ - INFO - ����������Ҫ��ͼ...
2025-04-14 23:12:11,692 - __main__ - INFO - ����HTML����...
2025-04-14 23:12:11,693 - __main__ - INFO - HTML����������: results/sepsis_prediction_results.html
2025-04-14 23:12:11,693 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ����
HTML����������: results/sepsis_prediction_results.html
���ӻ��ͱ������ɳɹ�����鿴 results Ŀ¼
2025-04-14 23:12:12,082 - __main__ - INFO - 生成的可视化文件: results/sepsis_prediction_results.html (4.42 KB)
2025-04-14 23:12:12,082 - __main__ - INFO - 生成的可视化文件: results/figures/roc_curve.png (129.93 KB)
2025-04-14 23:12:12,082 - __main__ - INFO - 生成的可视化文件: results/figures/risk_trajectories.png (333.66 KB)
2025-04-14 23:12:12,083 - __main__ - INFO - 生成的可视化文件: results/figures/confusion_matrix.png (89.21 KB)
2025-04-14 23:12:12,083 - __main__ - INFO - 生成的可视化文件: results/figures/feature_importance.png (137.88 KB)
2025-04-14 23:12:12,084 - __main__ - WARNING - 预期可视化文件不存在: results/figures/model_architecture.png
2025-04-14 23:12:12,084 - __main__ - INFO - 开始分析模型性能和结果...
2025-04-14 23:12:12,084 - __main__ - INFO - 执行任务: 分析模型结果
2025-04-14 23:12:12,152 - __main__ - ERROR - 命令执行失败: python -m scripts.analysis --full
2025-04-14 23:12:12,153 - __main__ - ERROR - 错误: Traceback (most recent call last):
  File "<frozen runpy>", line 189, in _run_module_as_main
  File "<frozen runpy>", line 112, in _get_module_details
SyntaxError: source code string cannot contain null bytes
2025-04-14 23:12:12,153 - __main__ - INFO - 流程执行情况:
2025-04-14 23:12:12,153 - __main__ - INFO - - 数据提取: 失败
2025-04-14 23:12:12,153 - __main__ - INFO - - 模型训练: 失败
2025-04-14 23:12:12,153 - __main__ - INFO - - 结果可视化: 成功
2025-04-14 23:12:12,153 - __main__ - INFO - - 结果分析: 失败
2025-04-14 23:12:12,153 - __main__ - INFO - 开始验证系统完整性...
2025-04-14 23:12:12,155 - __main__ - WARNING - 系统验证不完整: 部分组件缺失
2025-04-14 23:12:12,155 - __main__ - INFO - 脓毒症早期预警系统 - 执行完成，总耗时: 0.15 分钟
2025-04-14 23:12:12,155 - __main__ - INFO - 生成的关键文件:
2025-04-14 23:12:12,155 - __main__ - WARNING - - data/processed/patient_features.csv: 文件不存在
2025-04-14 23:12:12,155 - __main__ - WARNING - - data/processed/sepsis_labels.csv: 文件不存在
2025-04-14 23:12:12,156 - __main__ - WARNING - - models/best_model.pt: 文件不存在
2025-04-14 23:12:12,156 - __main__ - WARNING - - results/predictions.csv: 文件不存在
2025-04-14 23:12:12,156 - __main__ - INFO - - results/figures/roc_curve.png: 129.93 KB
2025-04-14 23:12:12,156 - __main__ - INFO - - results/sepsis_prediction_results.html: 4.42 KB
2025-04-14 23:12:12,156 - __main__ - INFO - 
脓毒症早期预警系统已完成执行。系统具有以下特点：
1. 大规模数据集：从MIMIC-IV中提取了大量真实患者数据
2. 高质量训练：使用了100轮次的训练，带有学习率调度和早停机制
3. 先进的模型架构：使用了多模态融合的神经网络结构
4. 详细的可视化：提供了风险轨迹、特征重要性等多种可视化图表
5. 完整的HTML报告：帮助医生解读模型结果

完整的结果可在 results 目录中查看，特别是:
- results/figures/: 各种可视化和性能图表

2025-04-14 23:14:31,127 - __main__ - INFO - ================================================================================
2025-04-14 23:14:31,127 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 23:14:31,127 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 23:14:31,127 - __main__ - INFO - ================================================================================
2025-04-14 23:14:31,130 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=True, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=False)
2025-04-14 23:14:31,195 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 23:14:31,195 - __main__ - INFO - 检查环境设置...
2025-04-14 23:14:33,458 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 23:14:33,459 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 23:14:34,907 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:14:34,907 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 23:14:34,909 - __main__ - INFO - 尝试直接检查数据库连接...
2025-04-14 23:14:34,909 - __main__ - INFO - 尝试连接数据库: 172.16.3.67:5432/mimiciv
2025-04-14 23:14:35,137 - __main__ - INFO - 数据库连接测试成功
2025-04-14 23:14:35,203 - __main__ - INFO - MIMIC-IV数据库中的病人数量: 364,627
2025-04-14 23:14:35,203 - __main__ - INFO - 开始从MIMIC-IV中提取临床数据...
2025-04-14 23:14:35,204 - __main__ - INFO - 执行任务: 提取临床数据
2025-04-14 23:14:40,018 - __main__ - INFO - 命令成功完成: python -m scripts.data_extraction_main  (耗时: 4.81秒)
2025-04-14 23:14:40,019 - __main__ - INFO - 输出: 2025-04-14 23:14:35,896 - __main__ - ERROR - �������: No module named 'utils.database_config'
2025-04-14 23:14:35,896 - __main__ - ERROR - ��ǰPython·��: ['D:\\Documents\\Downloads\\ai\\project', 'D:\\Documents\\Downloads\\ai\\project', 'C:\\Program Files\\Python\\python312.zip', 'C:\\Program Files\\Python\\DLLs', 'C:\\Program Files\\Python\\Lib', 'C:\\Program Files\\Python', 'C:\\Users\\Think\\AppData\\Roaming\\Python\\Python312\\site-packages', 'C:\\Users\\Think\\AppData\\Roaming\\Python\\Python312\\site-packages\\win32', 'C:\\Users\\Think\\AppData\\Roaming\\Python\\Python312\\site-packages\\win32\\lib', 'C:\\Users\\Think\\AppData\\Roaming\\Python\\Python312\\site-packages\\Pythonwin', 'C:\\Program Files\\Python\\Lib\\site-packages']
2025-04-14 23:14:35,900 - __main__ - INFO - ��utilsĿ¼ֱ�ӵ���ɹ�
2025-04-14 23:14:35,900 - __main__ - ERROR - ���빦��ģ��ʧ��: No module named 'utils.data_extraction'
Traceback (most recent call last):
  File "D:\Documents\Downloads\ai\project\scripts\data_extraction_main.py", line 197, in main
    conn = psycopg2.connect(conn_string)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

��ʼ������ȡ���̣�ʱ��: 2025-04-14 23:14:35
������ȡ���̳���: connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?
2025-04-14 23:14:40,021 - __main__ - ERROR - 预期输出文件不存在: data/processed/patient_features.csv
2025-04-14 23:14:40,021 - __main__ - ERROR - 预期输出文件不存在: data/processed/sepsis_labels.csv
2025-04-14 23:14:40,021 - __main__ - ERROR - 预期输出文件不存在: data/processed/text_embeddings.npz
2025-04-14 23:14:40,021 - __main__ - ERROR - 预期输出文件不存在: data/processed/kg_embeddings.npz
2025-04-14 23:14:40,022 - __main__ - WARNING - 数据提取可能不完整，继续处理但可能导致后续步骤失败
2025-04-14 23:14:40,022 - __main__ - ERROR - 数据文件不完整，但设置了必须使用真实完整数据
2025-04-14 23:14:40,022 - __main__ - ERROR - 数据提取失败，这可能影响后续步骤
2025-04-14 23:14:40,022 - __main__ - INFO - 开始训练脓毒症预测模型...
2025-04-14 23:14:40,022 - __main__ - ERROR - 训练所需文件不存在: data/processed/patient_features.csv
2025-04-14 23:14:40,022 - __main__ - ERROR - 模型训练失败，这可能影响后续步骤
2025-04-14 23:14:40,023 - __main__ - INFO - 开始生成可视化和报告...
2025-04-14 23:14:40,023 - __main__ - INFO - 执行任务: 生成可视化和报告
2025-04-14 23:14:44,453 - __main__ - INFO - 命令成功完成: python run_visualization.py (耗时: 4.43秒)
2025-04-14 23:14:44,453 - __main__ - INFO - 输出: 2025-04-14 23:14:41,948 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ���ʼ
2025-04-14 23:14:41,949 - __main__ - INFO - ����ROC����...
2025-04-14 23:14:42,680 - __main__ - INFO - ���ɷ��չ켣ͼ...
2025-04-14 23:14:43,208 - __main__ - INFO - ���ɻ�������...
2025-04-14 23:14:43,585 - __main__ - INFO - ����������Ҫ��ͼ...
2025-04-14 23:14:44,087 - __main__ - INFO - ����HTML����...
2025-04-14 23:14:44,088 - __main__ - INFO - HTML����������: results/sepsis_prediction_results.html
2025-04-14 23:14:44,088 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ����
HTML����������: results/sepsis_prediction_results.html
���ӻ��ͱ������ɳɹ�����鿴 results Ŀ¼
2025-04-14 23:14:44,454 - __main__ - INFO - 生成的可视化文件: results/sepsis_prediction_results.html (4.42 KB)
2025-04-14 23:14:44,455 - __main__ - INFO - 生成的可视化文件: results/figures/roc_curve.png (129.93 KB)
2025-04-14 23:14:44,455 - __main__ - INFO - 生成的可视化文件: results/figures/risk_trajectories.png (333.66 KB)
2025-04-14 23:14:44,456 - __main__ - INFO - 生成的可视化文件: results/figures/confusion_matrix.png (89.21 KB)
2025-04-14 23:14:44,456 - __main__ - INFO - 生成的可视化文件: results/figures/feature_importance.png (137.88 KB)
2025-04-14 23:14:44,456 - __main__ - WARNING - 预期可视化文件不存在: results/figures/model_architecture.png
2025-04-14 23:14:44,457 - __main__ - INFO - 开始分析模型性能和结果...
2025-04-14 23:14:44,457 - __main__ - INFO - 执行任务: 分析模型结果
2025-04-14 23:14:44,532 - __main__ - INFO - 命令成功完成: python -m scripts.analysis --full (耗时: 0.08秒)
2025-04-14 23:14:44,532 - __main__ - INFO - 输出: ��ʼ���а�������...
���а�������ʱ����: No module named 'utils.data_loading'
2025-04-14 23:14:44,533 - __main__ - INFO - 流程执行情况:
2025-04-14 23:14:44,533 - __main__ - INFO - - 数据提取: 失败
2025-04-14 23:14:44,533 - __main__ - INFO - - 模型训练: 失败
2025-04-14 23:14:44,533 - __main__ - INFO - - 结果可视化: 成功
2025-04-14 23:14:44,534 - __main__ - INFO - - 结果分析: 成功
2025-04-14 23:14:44,534 - __main__ - INFO - 开始验证系统完整性...
2025-04-14 23:14:44,535 - __main__ - WARNING - 系统验证不完整: 部分组件缺失
2025-04-14 23:14:44,535 - __main__ - INFO - 脓毒症早期预警系统 - 执行完成，总耗时: 0.22 分钟
2025-04-14 23:14:44,535 - __main__ - INFO - 生成的关键文件:
2025-04-14 23:14:44,535 - __main__ - WARNING - - data/processed/patient_features.csv: 文件不存在
2025-04-14 23:14:44,535 - __main__ - WARNING - - data/processed/sepsis_labels.csv: 文件不存在
2025-04-14 23:14:44,535 - __main__ - WARNING - - models/best_model.pt: 文件不存在
2025-04-14 23:14:44,535 - __main__ - WARNING - - results/predictions.csv: 文件不存在
2025-04-14 23:14:44,536 - __main__ - INFO - - results/figures/roc_curve.png: 129.93 KB
2025-04-14 23:14:44,536 - __main__ - INFO - - results/sepsis_prediction_results.html: 4.42 KB
2025-04-14 23:14:44,536 - __main__ - INFO - 
脓毒症早期预警系统已完成执行。系统具有以下特点：
1. 大规模数据集：从MIMIC-IV中提取了大量真实患者数据
2. 高质量训练：使用了100轮次的训练，带有学习率调度和早停机制
3. 先进的模型架构：使用了多模态融合的神经网络结构
4. 详细的可视化：提供了风险轨迹、特征重要性等多种可视化图表
5. 完整的HTML报告：帮助医生解读模型结果

完整的结果可在 results 目录中查看，特别是:
- results/figures/: 各种可视化和性能图表

2025-04-14 23:17:50,570 - __main__ - INFO - ================================================================================
2025-04-14 23:17:50,570 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 23:17:50,570 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 23:17:50,571 - __main__ - INFO - ================================================================================
2025-04-14 23:17:50,573 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=True, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=False)
2025-04-14 23:17:50,641 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 23:17:50,641 - __main__ - INFO - 检查环境设置...
2025-04-14 23:17:52,894 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 23:17:52,894 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 23:17:54,351 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:17:54,352 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 23:17:54,352 - __main__ - INFO - 尝试直接检查数据库连接...
2025-04-14 23:17:54,352 - __main__ - INFO - 尝试连接数据库: 172.16.3.67:5432/mimiciv
2025-04-14 23:17:54,869 - __main__ - INFO - 数据库连接测试成功
2025-04-14 23:17:54,959 - __main__ - INFO - MIMIC-IV数据库中的病人数量: 364,627
2025-04-14 23:17:54,959 - __main__ - INFO - 开始从MIMIC-IV中提取临床数据...
2025-04-14 23:17:54,960 - __main__ - INFO - 执行任务: 提取临床数据
2025-04-14 23:17:56,042 - __main__ - ERROR - 命令执行失败: python -m scripts.data_extraction_main 
2025-04-14 23:17:56,042 - __main__ - ERROR - 错误: Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "D:\Documents\Downloads\ai\project\scripts\data_extraction_main.py", line 69, in <module>
    from models.text.text_processing import process_clinical_text, encode_clinical_text
  File "D:\Documents\Downloads\ai\project\models\text\__init__.py", line 1
    \ufffd\ufffd
    ^
SyntaxError: (unicode error) 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte
2025-04-14 23:17:56,042 - __main__ - ERROR - 数据提取失败
2025-04-14 23:17:56,043 - __main__ - ERROR - 数据提取失败，这可能影响后续步骤
2025-04-14 23:17:56,043 - __main__ - INFO - 开始训练脓毒症预测模型...
2025-04-14 23:17:56,043 - __main__ - ERROR - 训练所需文件不存在: data/processed/patient_features.csv
2025-04-14 23:17:56,043 - __main__ - ERROR - 模型训练失败，这可能影响后续步骤
2025-04-14 23:17:56,043 - __main__ - INFO - 开始生成可视化和报告...
2025-04-14 23:17:56,043 - __main__ - INFO - 执行任务: 生成可视化和报告
2025-04-14 23:18:00,651 - __main__ - INFO - 命令成功完成: python run_visualization.py (耗时: 4.61秒)
2025-04-14 23:18:00,651 - __main__ - INFO - 输出: 2025-04-14 23:17:58,061 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ���ʼ
2025-04-14 23:17:58,062 - __main__ - INFO - ����ROC����...
2025-04-14 23:17:58,834 - __main__ - INFO - ���ɷ��չ켣ͼ...
2025-04-14 23:17:59,393 - __main__ - INFO - ���ɻ�������...
2025-04-14 23:17:59,768 - __main__ - INFO - ����������Ҫ��ͼ...
2025-04-14 23:18:00,265 - __main__ - INFO - ����HTML����...
2025-04-14 23:18:00,266 - __main__ - INFO - HTML����������: results/sepsis_prediction_results.html
2025-04-14 23:18:00,266 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ����
HTML����������: results/sepsis_prediction_results.html
���ӻ��ͱ������ɳɹ�����鿴 results Ŀ¼
2025-04-14 23:18:00,652 - __main__ - INFO - 生成的可视化文件: results/sepsis_prediction_results.html (4.42 KB)
2025-04-14 23:18:00,653 - __main__ - INFO - 生成的可视化文件: results/figures/roc_curve.png (129.93 KB)
2025-04-14 23:18:00,653 - __main__ - INFO - 生成的可视化文件: results/figures/risk_trajectories.png (333.66 KB)
2025-04-14 23:18:00,653 - __main__ - INFO - 生成的可视化文件: results/figures/confusion_matrix.png (89.21 KB)
2025-04-14 23:18:00,654 - __main__ - INFO - 生成的可视化文件: results/figures/feature_importance.png (137.88 KB)
2025-04-14 23:18:00,654 - __main__ - WARNING - 预期可视化文件不存在: results/figures/model_architecture.png
2025-04-14 23:18:00,654 - __main__ - INFO - 开始分析模型性能和结果...
2025-04-14 23:18:00,655 - __main__ - INFO - 执行任务: 分析模型结果
2025-04-14 23:18:05,984 - __main__ - INFO - 命令成功完成: python -m scripts.analysis --full (耗时: 5.33秒)
2025-04-14 23:18:05,984 - __main__ - INFO - 输出: ��ʼ���а�������...
�������ݺ�ģ��...
���������ļ������ڣ�����ʾ������...
����100�����ߵ�ʾ�����ݣ�ÿ������48Сʱ...
������������DataFrame...
����ŧ��֢��ǩ...
����֪ʶͼ��Ƕ��...
���а�������ʱ����: [Errno 2] No such file or directory: 'models/best_model.pt'
2025-04-14 23:18:05,985 - __main__ - INFO - 流程执行情况:
2025-04-14 23:18:05,985 - __main__ - INFO - - 数据提取: 失败
2025-04-14 23:18:05,985 - __main__ - INFO - - 模型训练: 失败
2025-04-14 23:18:05,985 - __main__ - INFO - - 结果可视化: 成功
2025-04-14 23:18:05,985 - __main__ - INFO - - 结果分析: 成功
2025-04-14 23:18:05,985 - __main__ - INFO - 开始验证系统完整性...
2025-04-14 23:18:05,986 - __main__ - WARNING - 系统验证不完整: 部分组件缺失
2025-04-14 23:18:05,986 - __main__ - INFO - 脓毒症早期预警系统 - 执行完成，总耗时: 0.26 分钟
2025-04-14 23:18:05,986 - __main__ - INFO - 生成的关键文件:
2025-04-14 23:18:05,987 - __main__ - INFO - - data/processed/patient_features.csv: 4272.41 KB
2025-04-14 23:18:05,987 - __main__ - INFO - - data/processed/sepsis_labels.csv: 111.66 KB
2025-04-14 23:18:05,987 - __main__ - WARNING - - models/best_model.pt: 文件不存在
2025-04-14 23:18:05,988 - __main__ - WARNING - - results/predictions.csv: 文件不存在
2025-04-14 23:18:05,988 - __main__ - INFO - - results/figures/roc_curve.png: 129.93 KB
2025-04-14 23:18:05,988 - __main__ - INFO - - results/sepsis_prediction_results.html: 4.42 KB
2025-04-14 23:18:05,988 - __main__ - INFO - 
脓毒症早期预警系统已完成执行。系统具有以下特点：
1. 大规模数据集：从MIMIC-IV中提取了大量真实患者数据
2. 高质量训练：使用了100轮次的训练，带有学习率调度和早停机制
3. 先进的模型架构：使用了多模态融合的神经网络结构
4. 详细的可视化：提供了风险轨迹、特征重要性等多种可视化图表
5. 完整的HTML报告：帮助医生解读模型结果

完整的结果可在 results 目录中查看，特别是:
- results/figures/: 各种可视化和性能图表

2025-04-14 23:19:08,337 - __main__ - INFO - ================================================================================
2025-04-14 23:19:08,337 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 23:19:08,338 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 23:19:08,338 - __main__ - INFO - ================================================================================
2025-04-14 23:19:08,340 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=True, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=False)
2025-04-14 23:19:08,407 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 23:19:08,407 - __main__ - INFO - 检查环境设置...
2025-04-14 23:19:10,748 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 23:19:10,749 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 23:19:12,219 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:19:12,219 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 23:19:12,219 - __main__ - INFO - 尝试直接检查数据库连接...
2025-04-14 23:19:12,220 - __main__ - INFO - 尝试连接数据库: 172.16.3.67:5432/mimiciv
2025-04-14 23:19:12,470 - __main__ - INFO - 数据库连接测试成功
2025-04-14 23:19:12,543 - __main__ - INFO - MIMIC-IV数据库中的病人数量: 364,627
2025-04-14 23:19:12,543 - __main__ - INFO - 开始从MIMIC-IV中提取临床数据...
2025-04-14 23:19:12,544 - __main__ - INFO - 执行任务: 提取临床数据
2025-04-14 23:19:28,646 - __main__ - INFO - 命令成功完成: python -m scripts.data_extraction_main  (耗时: 16.10秒)
2025-04-14 23:19:28,646 - __main__ - INFO - 输出: Traceback (most recent call last):
  File "D:\Documents\Downloads\ai\project\scripts\data_extraction_main.py", line 197, in main
    conn = psycopg2.connect(conn_string)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

��ʼ������ȡ���̣�ʱ��: 2025-04-14 23:19:23
������ȡ���̳���: connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?
2025-04-14 23:19:28,647 - __main__ - INFO - 生成的数据文件: data/processed/patient_features.csv (4.17 MB)
2025-04-14 23:19:28,648 - __main__ - INFO - 生成的数据文件: data/processed/sepsis_labels.csv (0.11 MB)
2025-04-14 23:19:28,648 - __main__ - ERROR - 预期输出文件不存在: data/processed/text_embeddings.npz
2025-04-14 23:19:28,648 - __main__ - ERROR - 预期输出文件不存在: data/processed/kg_embeddings.npz
2025-04-14 23:19:28,648 - __main__ - WARNING - 数据提取可能不完整，继续处理但可能导致后续步骤失败
2025-04-14 23:19:28,648 - __main__ - ERROR - 数据文件不完整，但设置了必须使用真实完整数据
2025-04-14 23:19:28,648 - __main__ - ERROR - 数据提取失败，这可能影响后续步骤
2025-04-14 23:19:28,649 - __main__ - INFO - 开始训练脓毒症预测模型...
2025-04-14 23:19:28,649 - __main__ - INFO - 执行任务: 训练多模态预测模型
2025-04-14 23:19:28,752 - __main__ - INFO - 命令成功完成: python -m scripts.model_training --epochs 100 --batch_size 64 --learning_rate 0.0001 --early_stopping 10 --save_model True --use_multimodal True --use_weighted_loss True (耗时: 0.10秒)
2025-04-14 23:19:28,753 - __main__ - ERROR - 模型文件不存在: models/best_model.pt
2025-04-14 23:19:28,753 - __main__ - ERROR - 模型训练失败，这可能影响后续步骤
2025-04-14 23:19:28,753 - __main__ - INFO - 开始生成可视化和报告...
2025-04-14 23:19:28,753 - __main__ - INFO - 执行任务: 生成可视化和报告
2025-04-14 23:19:33,229 - __main__ - INFO - 命令成功完成: python run_visualization.py (耗时: 4.48秒)
2025-04-14 23:19:33,230 - __main__ - INFO - 输出: 2025-04-14 23:19:30,740 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ���ʼ
2025-04-14 23:19:30,741 - __main__ - INFO - ����ROC����...
2025-04-14 23:19:31,477 - __main__ - INFO - ���ɷ��չ켣ͼ...
2025-04-14 23:19:31,979 - __main__ - INFO - ���ɻ�������...
2025-04-14 23:19:32,361 - __main__ - INFO - ����������Ҫ��ͼ...
2025-04-14 23:19:32,855 - __main__ - INFO - ����HTML����...
2025-04-14 23:19:32,855 - __main__ - INFO - HTML����������: results/sepsis_prediction_results.html
2025-04-14 23:19:32,855 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ����
HTML����������: results/sepsis_prediction_results.html
���ӻ��ͱ������ɳɹ�����鿴 results Ŀ¼
2025-04-14 23:19:33,231 - __main__ - INFO - 生成的可视化文件: results/sepsis_prediction_results.html (4.42 KB)
2025-04-14 23:19:33,231 - __main__ - INFO - 生成的可视化文件: results/figures/roc_curve.png (129.93 KB)
2025-04-14 23:19:33,232 - __main__ - INFO - 生成的可视化文件: results/figures/risk_trajectories.png (333.66 KB)
2025-04-14 23:19:33,232 - __main__ - INFO - 生成的可视化文件: results/figures/confusion_matrix.png (89.21 KB)
2025-04-14 23:19:33,233 - __main__ - INFO - 生成的可视化文件: results/figures/feature_importance.png (137.88 KB)
2025-04-14 23:19:33,233 - __main__ - WARNING - 预期可视化文件不存在: results/figures/model_architecture.png
2025-04-14 23:19:33,233 - __main__ - INFO - 开始分析模型性能和结果...
2025-04-14 23:19:33,233 - __main__ - INFO - 执行任务: 分析模型结果
2025-04-14 23:19:38,066 - __main__ - INFO - 命令成功完成: python -m scripts.analysis --full (耗时: 4.83秒)
2025-04-14 23:19:38,066 - __main__ - INFO - 输出: ��ʼ���а�������...
�������ݺ�ģ��...
�ӱ����ļ���������...
���а�������ʱ����: [Errno 2] No such file or directory: 'models/best_model.pt'
2025-04-14 23:19:38,068 - __main__ - INFO - 流程执行情况:
2025-04-14 23:19:38,068 - __main__ - INFO - - 数据提取: 失败
2025-04-14 23:19:38,068 - __main__ - INFO - - 模型训练: 失败
2025-04-14 23:19:38,068 - __main__ - INFO - - 结果可视化: 成功
2025-04-14 23:19:38,068 - __main__ - INFO - - 结果分析: 成功
2025-04-14 23:19:38,068 - __main__ - INFO - 开始验证系统完整性...
2025-04-14 23:19:38,069 - __main__ - WARNING - 系统验证不完整: 部分组件缺失
2025-04-14 23:19:38,069 - __main__ - INFO - 脓毒症早期预警系统 - 执行完成，总耗时: 0.50 分钟
2025-04-14 23:19:38,069 - __main__ - INFO - 生成的关键文件:
2025-04-14 23:19:38,070 - __main__ - INFO - - data/processed/patient_features.csv: 4272.41 KB
2025-04-14 23:19:38,070 - __main__ - INFO - - data/processed/sepsis_labels.csv: 111.66 KB
2025-04-14 23:19:38,071 - __main__ - WARNING - - models/best_model.pt: 文件不存在
2025-04-14 23:19:38,071 - __main__ - WARNING - - results/predictions.csv: 文件不存在
2025-04-14 23:19:38,071 - __main__ - INFO - - results/figures/roc_curve.png: 129.93 KB
2025-04-14 23:19:38,071 - __main__ - INFO - - results/sepsis_prediction_results.html: 4.42 KB
2025-04-14 23:19:38,072 - __main__ - INFO - 
脓毒症早期预警系统已完成执行。系统具有以下特点：
1. 大规模数据集：从MIMIC-IV中提取了大量真实患者数据
2. 高质量训练：使用了100轮次的训练，带有学习率调度和早停机制
3. 先进的模型架构：使用了多模态融合的神经网络结构
4. 详细的可视化：提供了风险轨迹、特征重要性等多种可视化图表
5. 完整的HTML报告：帮助医生解读模型结果

完整的结果可在 results 目录中查看，特别是:
- results/figures/: 各种可视化和性能图表

2025-04-14 23:20:25,410 - __main__ - INFO - ================================================================================
2025-04-14 23:20:25,411 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 23:20:25,411 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 23:20:25,411 - __main__ - INFO - ================================================================================
2025-04-14 23:20:25,413 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=True, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=False)
2025-04-14 23:20:25,483 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 23:20:25,484 - __main__ - INFO - 检查环境设置...
2025-04-14 23:20:27,775 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 23:20:27,775 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 23:20:29,241 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:20:29,241 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 23:20:29,242 - __main__ - INFO - 尝试直接检查数据库连接...
2025-04-14 23:20:29,242 - __main__ - INFO - 尝试连接数据库: 172.16.3.67:5432/mimiciv
2025-04-14 23:20:29,474 - __main__ - INFO - 数据库连接测试成功
2025-04-14 23:20:29,545 - __main__ - INFO - MIMIC-IV数据库中的病人数量: 364,627
2025-04-14 23:20:29,546 - __main__ - INFO - 开始从MIMIC-IV中提取临床数据...
2025-04-14 23:20:29,546 - __main__ - INFO - 执行任务: 提取临床数据
2025-04-14 23:20:43,806 - __main__ - INFO - 命令成功完成: python -m scripts.data_extraction_main  (耗时: 14.26秒)
2025-04-14 23:20:43,807 - __main__ - INFO - 输出: Traceback (most recent call last):
  File "D:\Documents\Downloads\ai\project\scripts\data_extraction_main.py", line 197, in main
    conn = psycopg2.connect(conn_string)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

��ʼ������ȡ���̣�ʱ��: 2025-04-14 23:20:38
������ȡ���̳���: connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?
2025-04-14 23:20:43,808 - __main__ - INFO - 生成的数据文件: data/processed/patient_features.csv (4.17 MB)
2025-04-14 23:20:43,808 - __main__ - INFO - 生成的数据文件: data/processed/sepsis_labels.csv (0.11 MB)
2025-04-14 23:20:43,808 - __main__ - ERROR - 预期输出文件不存在: data/processed/text_embeddings.npz
2025-04-14 23:20:43,809 - __main__ - ERROR - 预期输出文件不存在: data/processed/kg_embeddings.npz
2025-04-14 23:20:43,809 - __main__ - WARNING - 数据提取可能不完整，继续处理但可能导致后续步骤失败
2025-04-14 23:20:43,809 - __main__ - ERROR - 数据文件不完整，但设置了必须使用真实完整数据
2025-04-14 23:20:43,809 - __main__ - ERROR - 数据提取失败，这可能影响后续步骤
2025-04-14 23:20:43,809 - __main__ - INFO - 开始训练脓毒症预测模型...
2025-04-14 23:20:43,810 - __main__ - INFO - 执行任务: 训练多模态预测模型
2025-04-14 23:20:43,876 - __main__ - INFO - 命令成功完成: python -m scripts.model_training --epochs 100 --batch_size 64 --learning_rate 0.0001 --early_stopping 10 --save_model True --use_multimodal True --use_weighted_loss True (耗时: 0.07秒)
2025-04-14 23:20:43,878 - __main__ - ERROR - 模型文件不存在: models/best_model.pt
2025-04-14 23:20:43,878 - __main__ - ERROR - 模型训练失败，这可能影响后续步骤
2025-04-14 23:20:43,878 - __main__ - INFO - 开始生成可视化和报告...
2025-04-14 23:20:43,878 - __main__ - INFO - 执行任务: 生成可视化和报告
2025-04-14 23:20:48,541 - __main__ - INFO - 命令成功完成: python run_visualization.py (耗时: 4.66秒)
2025-04-14 23:20:48,541 - __main__ - INFO - 输出: 2025-04-14 23:20:45,896 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ���ʼ
2025-04-14 23:20:45,896 - __main__ - INFO - ����ROC����...
2025-04-14 23:20:46,637 - __main__ - INFO - ���ɷ��չ켣ͼ...
2025-04-14 23:20:47,175 - __main__ - INFO - ���ɻ�������...
2025-04-14 23:20:47,555 - __main__ - INFO - ����������Ҫ��ͼ...
2025-04-14 23:20:48,063 - __main__ - INFO - ����HTML����...
2025-04-14 23:20:48,064 - __main__ - INFO - HTML����������: results/sepsis_prediction_results.html
2025-04-14 23:20:48,064 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ����
HTML����������: results/sepsis_prediction_results.html
���ӻ��ͱ������ɳɹ�����鿴 results Ŀ¼
2025-04-14 23:20:48,542 - __main__ - INFO - 生成的可视化文件: results/sepsis_prediction_results.html (4.42 KB)
2025-04-14 23:20:48,543 - __main__ - INFO - 生成的可视化文件: results/figures/roc_curve.png (129.93 KB)
2025-04-14 23:20:48,543 - __main__ - INFO - 生成的可视化文件: results/figures/risk_trajectories.png (333.66 KB)
2025-04-14 23:20:48,544 - __main__ - INFO - 生成的可视化文件: results/figures/confusion_matrix.png (89.21 KB)
2025-04-14 23:20:48,544 - __main__ - INFO - 生成的可视化文件: results/figures/feature_importance.png (137.88 KB)
2025-04-14 23:20:48,544 - __main__ - WARNING - 预期可视化文件不存在: results/figures/model_architecture.png
2025-04-14 23:20:48,544 - __main__ - INFO - 开始分析模型性能和结果...
2025-04-14 23:20:48,545 - __main__ - INFO - 执行任务: 分析模型结果
2025-04-14 23:20:53,358 - __main__ - INFO - 命令成功完成: python -m scripts.analysis --full (耗时: 4.81秒)
2025-04-14 23:20:53,359 - __main__ - INFO - 输出: ��ʼ���а�������...
�������ݺ�ģ��...
�ӱ����ļ���������...
���а�������ʱ����: [Errno 2] No such file or directory: 'models/best_model.pt'
2025-04-14 23:20:53,359 - __main__ - INFO - 流程执行情况:
2025-04-14 23:20:53,359 - __main__ - INFO - - 数据提取: 失败
2025-04-14 23:20:53,359 - __main__ - INFO - - 模型训练: 失败
2025-04-14 23:20:53,360 - __main__ - INFO - - 结果可视化: 成功
2025-04-14 23:20:53,360 - __main__ - INFO - - 结果分析: 成功
2025-04-14 23:20:53,360 - __main__ - INFO - 开始验证系统完整性...
2025-04-14 23:20:53,361 - __main__ - WARNING - 系统验证不完整: 部分组件缺失
2025-04-14 23:20:53,361 - __main__ - INFO - 脓毒症早期预警系统 - 执行完成，总耗时: 0.47 分钟
2025-04-14 23:20:53,361 - __main__ - INFO - 生成的关键文件:
2025-04-14 23:20:53,361 - __main__ - INFO - - data/processed/patient_features.csv: 4272.41 KB
2025-04-14 23:20:53,361 - __main__ - INFO - - data/processed/sepsis_labels.csv: 111.66 KB
2025-04-14 23:20:53,361 - __main__ - WARNING - - models/best_model.pt: 文件不存在
2025-04-14 23:20:53,362 - __main__ - WARNING - - results/predictions.csv: 文件不存在
2025-04-14 23:20:53,362 - __main__ - INFO - - results/figures/roc_curve.png: 129.93 KB
2025-04-14 23:20:53,362 - __main__ - INFO - - results/sepsis_prediction_results.html: 4.42 KB
2025-04-14 23:20:53,362 - __main__ - INFO - 
脓毒症早期预警系统已完成执行。系统具有以下特点：
1. 大规模数据集：从MIMIC-IV中提取了大量真实患者数据
2. 高质量训练：使用了100轮次的训练，带有学习率调度和早停机制
3. 先进的模型架构：使用了多模态融合的神经网络结构
4. 详细的可视化：提供了风险轨迹、特征重要性等多种可视化图表
5. 完整的HTML报告：帮助医生解读模型结果

完整的结果可在 results 目录中查看，特别是:
- results/figures/: 各种可视化和性能图表

2025-04-14 23:28:13,841 - __main__ - INFO - ================================================================================
2025-04-14 23:28:13,842 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 23:28:13,842 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 23:28:13,842 - __main__ - INFO - ================================================================================
2025-04-14 23:28:13,846 - __main__ - INFO - 强制使用真实数据模式已启用
2025-04-14 23:28:13,846 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=True)
2025-04-14 23:28:13,913 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 23:28:13,914 - __main__ - INFO - 检查环境设置...
2025-04-14 23:28:16,376 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 23:28:16,376 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 23:28:17,865 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:28:17,865 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 23:28:17,866 - __main__ - INFO - 尝试直接检查数据库连接...
2025-04-14 23:28:17,866 - __main__ - INFO - 尝试连接数据库: 172.16.3.67:5432/mimiciv
2025-04-14 23:28:18,095 - __main__ - ERROR - 数据库连接失败: 'utf-8' codec can't decode byte 0xd6 in position 57: invalid continuation byte
2025-04-14 23:28:18,097 - __main__ - ERROR - 强制使用真实数据模式已启用，但数据库连接失败，终止执行
2025-04-14 23:28:18,097 - __main__ - ERROR - 环境检查失败，终止执行
2025-04-14 23:30:25,595 - __main__ - INFO - ================================================================================
2025-04-14 23:30:25,596 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 23:30:25,596 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 23:30:25,596 - __main__ - INFO - ================================================================================
2025-04-14 23:30:25,599 - __main__ - INFO - 强制使用真实数据模式已启用
2025-04-14 23:30:25,599 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=True)
2025-04-14 23:30:25,670 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 23:30:25,670 - __main__ - INFO - 检查环境设置...
2025-04-14 23:30:28,253 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 23:30:28,253 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 23:30:29,746 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:30:29,746 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 23:30:29,747 - __main__ - INFO - 尝试直接检查数据库连接...
2025-04-14 23:30:29,747 - __main__ - INFO - 尝试连接数据库: 172.16.3.67:5432/mimiciv
2025-04-14 23:30:29,927 - __main__ - ERROR - 数据库连接失败: 'utf-8' codec can't decode byte 0xd6 in position 57: invalid continuation byte
2025-04-14 23:30:29,928 - __main__ - ERROR - 强制使用真实数据模式已启用，但数据库连接失败，终止执行
2025-04-14 23:30:29,928 - __main__ - ERROR - 环境检查失败，终止执行
2025-04-14 23:30:48,120 - __main__ - INFO - ================================================================================
2025-04-14 23:30:48,120 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 23:30:48,120 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 23:30:48,120 - __main__ - INFO - ================================================================================
2025-04-14 23:30:48,122 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=True, force_real_data=False)
2025-04-14 23:30:48,184 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 23:30:48,185 - __main__ - INFO - 检查环境设置...
2025-04-14 23:30:50,522 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 23:30:50,523 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 23:30:51,982 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:30:51,983 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 23:30:51,983 - __main__ - INFO - 只运行可视化模式，跳过数据库检查
2025-04-14 23:30:51,983 - __main__ - INFO - 只运行可视化部分
2025-04-14 23:30:51,983 - __main__ - INFO - 开始生成可视化和报告...
2025-04-14 23:30:51,983 - __main__ - INFO - 执行任务: 生成可视化和报告
2025-04-14 23:30:56,508 - __main__ - INFO - 命令成功完成: python run_visualization.py (耗时: 4.52秒)
2025-04-14 23:30:56,508 - __main__ - INFO - 输出: 2025-04-14 23:30:54,000 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ���ʼ
2025-04-14 23:30:54,001 - __main__ - INFO - ����ROC����...
2025-04-14 23:30:54,742 - __main__ - INFO - ���ɷ��չ켣ͼ...
2025-04-14 23:30:55,262 - __main__ - INFO - ���ɻ�������...
2025-04-14 23:30:55,628 - __main__ - INFO - ����������Ҫ��ͼ...
2025-04-14 23:30:56,127 - __main__ - INFO - ����HTML����...
2025-04-14 23:30:56,127 - __main__ - INFO - HTML����������: results/sepsis_prediction_results.html
2025-04-14 23:30:56,128 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ����
HTML����������: results/sepsis_prediction_results.html
���ӻ��ͱ������ɳɹ�����鿴 results Ŀ¼
2025-04-14 23:30:56,510 - __main__ - INFO - 生成的可视化文件: results/sepsis_prediction_results.html (4.42 KB)
2025-04-14 23:30:56,510 - __main__ - INFO - 生成的可视化文件: results/figures/roc_curve.png (129.93 KB)
2025-04-14 23:30:56,510 - __main__ - INFO - 生成的可视化文件: results/figures/risk_trajectories.png (333.66 KB)
2025-04-14 23:30:56,510 - __main__ - INFO - 生成的可视化文件: results/figures/confusion_matrix.png (89.21 KB)
2025-04-14 23:30:56,511 - __main__ - INFO - 生成的可视化文件: results/figures/feature_importance.png (137.88 KB)
2025-04-14 23:30:56,511 - __main__ - WARNING - 预期可视化文件不存在: results/figures/model_architecture.png
2025-04-14 23:30:56,511 - __main__ - INFO - 脓毒症早期预警系统 - 执行完成，总耗时: 0.14 分钟
2025-04-14 23:30:56,511 - __main__ - INFO - 生成的关键文件:
2025-04-14 23:30:56,511 - __main__ - INFO - - data/processed/patient_features.csv: 4272.41 KB
2025-04-14 23:30:56,512 - __main__ - INFO - - data/processed/sepsis_labels.csv: 111.66 KB
2025-04-14 23:30:56,512 - __main__ - WARNING - - models/best_model.pt: 文件不存在
2025-04-14 23:30:56,512 - __main__ - WARNING - - results/predictions.csv: 文件不存在
2025-04-14 23:30:56,512 - __main__ - INFO - - results/figures/roc_curve.png: 129.93 KB
2025-04-14 23:30:56,513 - __main__ - INFO - - results/sepsis_prediction_results.html: 4.42 KB
2025-04-14 23:30:56,513 - __main__ - INFO - 
脓毒症早期预警系统已完成执行。系统具有以下特点：
1. 大规模数据集：从MIMIC-IV中提取了大量真实患者数据
2. 高质量训练：使用了100轮次的训练，带有学习率调度和早停机制
3. 先进的模型架构：使用了多模态融合的神经网络结构
4. 详细的可视化：提供了风险轨迹、特征重要性等多种可视化图表
5. 完整的HTML报告：帮助医生解读模型结果

完整的结果可在 results 目录中查看，特别是:
- results/figures/: 各种可视化和性能图表

2025-04-14 23:31:17,541 - __main__ - INFO - ================================================================================
2025-04-14 23:31:17,542 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 23:31:17,542 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 23:31:17,543 - __main__ - INFO - ================================================================================
2025-04-14 23:31:17,544 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=True, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=False)
2025-04-14 23:31:17,608 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 23:31:17,608 - __main__ - INFO - 检查环境设置...
2025-04-14 23:31:19,877 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 23:31:19,877 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 23:31:21,337 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:31:21,337 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 23:31:21,338 - __main__ - INFO - 尝试直接检查数据库连接...
2025-04-14 23:31:21,338 - __main__ - INFO - 尝试连接数据库: 172.16.3.67:5432/mimiciv
2025-04-14 23:31:21,512 - __main__ - ERROR - 数据库连接失败: 'utf-8' codec can't decode byte 0xd6 in position 57: invalid continuation byte
2025-04-14 23:31:21,513 - __main__ - WARNING - 数据库连接失败，但将继续执行
2025-04-14 23:31:21,514 - __main__ - INFO - 开始从MIMIC-IV中提取临床数据...
2025-04-14 23:31:21,514 - __main__ - INFO - 执行任务: 提取临床数据
2025-04-14 23:31:32,038 - __main__ - INFO - 命令成功完成: python -m scripts.data_extraction_main  (耗时: 10.52秒)
2025-04-14 23:31:32,038 - __main__ - INFO - 输出: Traceback (most recent call last):
  File "D:\Documents\Downloads\ai\project\scripts\data_extraction_main.py", line 197, in main
    conn = psycopg2.connect(conn_string)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python\Lib\site-packages\psycopg2\__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xd6 in position 57: invalid continuation byte
��ʼ������ȡ���̣�ʱ��: 2025-04-14 23:31:30
������ȡ���̳���: 'utf-8' codec can't decode byte 0xd6 in position 57: invalid continuation byte
2025-04-14 23:31:32,039 - __main__ - INFO - 生成的数据文件: data/processed/patient_features.csv (4.17 MB)
2025-04-14 23:31:32,039 - __main__ - INFO - 生成的数据文件: data/processed/sepsis_labels.csv (0.11 MB)
2025-04-14 23:31:32,040 - __main__ - ERROR - 预期输出文件不存在: data/processed/text_embeddings.npz
2025-04-14 23:31:32,040 - __main__ - ERROR - 预期输出文件不存在: data/processed/kg_embeddings.npz
2025-04-14 23:31:32,040 - __main__ - WARNING - 数据提取可能不完整，继续处理但可能导致后续步骤失败
2025-04-14 23:31:32,040 - __main__ - ERROR - 数据文件不完整，但设置了必须使用真实完整数据
2025-04-14 23:31:32,040 - __main__ - ERROR - 数据提取失败，这可能影响后续步骤
2025-04-14 23:31:32,040 - __main__ - INFO - 开始训练脓毒症预测模型...
2025-04-14 23:31:32,041 - __main__ - INFO - 执行任务: 训练多模态预测模型
2025-04-14 23:31:32,133 - __main__ - INFO - 命令成功完成: python -m scripts.model_training --epochs 100 --batch_size 64 --learning_rate 0.0001 --early_stopping 10 --save_model True --use_multimodal True --use_weighted_loss True (耗时: 0.09秒)
2025-04-14 23:31:32,134 - __main__ - ERROR - 模型文件不存在: models/best_model.pt
2025-04-14 23:31:32,134 - __main__ - ERROR - 模型训练失败，这可能影响后续步骤
2025-04-14 23:31:32,134 - __main__ - INFO - 开始生成可视化和报告...
2025-04-14 23:31:32,134 - __main__ - INFO - 执行任务: 生成可视化和报告
2025-04-14 23:31:36,595 - __main__ - INFO - 命令成功完成: python run_visualization.py (耗时: 4.46秒)
2025-04-14 23:31:36,595 - __main__ - INFO - 输出: 2025-04-14 23:31:34,079 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ���ʼ
2025-04-14 23:31:34,080 - __main__ - INFO - ����ROC����...
2025-04-14 23:31:34,834 - __main__ - INFO - ���ɷ��չ켣ͼ...
2025-04-14 23:31:35,362 - __main__ - INFO - ���ɻ�������...
2025-04-14 23:31:35,731 - __main__ - INFO - ����������Ҫ��ͼ...
2025-04-14 23:31:36,214 - __main__ - INFO - ����HTML����...
2025-04-14 23:31:36,215 - __main__ - INFO - HTML����������: results/sepsis_prediction_results.html
2025-04-14 23:31:36,215 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ����
HTML����������: results/sepsis_prediction_results.html
���ӻ��ͱ������ɳɹ�����鿴 results Ŀ¼
2025-04-14 23:31:36,596 - __main__ - INFO - 生成的可视化文件: results/sepsis_prediction_results.html (4.42 KB)
2025-04-14 23:31:36,596 - __main__ - INFO - 生成的可视化文件: results/figures/roc_curve.png (129.93 KB)
2025-04-14 23:31:36,597 - __main__ - INFO - 生成的可视化文件: results/figures/risk_trajectories.png (333.66 KB)
2025-04-14 23:31:36,597 - __main__ - INFO - 生成的可视化文件: results/figures/confusion_matrix.png (89.21 KB)
2025-04-14 23:31:36,597 - __main__ - INFO - 生成的可视化文件: results/figures/feature_importance.png (137.88 KB)
2025-04-14 23:31:36,598 - __main__ - WARNING - 预期可视化文件不存在: results/figures/model_architecture.png
2025-04-14 23:31:36,598 - __main__ - INFO - 开始分析模型性能和结果...
2025-04-14 23:31:36,598 - __main__ - INFO - 执行任务: 分析模型结果
2025-04-14 23:31:41,347 - __main__ - INFO - 命令成功完成: python -m scripts.analysis --full (耗时: 4.75秒)
2025-04-14 23:31:41,348 - __main__ - INFO - 输出: ��ʼ���а�������...
�������ݺ�ģ��...
�ӱ����ļ���������...
���а�������ʱ����: [Errno 2] No such file or directory: 'models/best_model.pt'
2025-04-14 23:31:41,348 - __main__ - INFO - 流程执行情况:
2025-04-14 23:31:41,349 - __main__ - INFO - - 数据提取: 失败
2025-04-14 23:31:41,349 - __main__ - INFO - - 模型训练: 失败
2025-04-14 23:31:41,349 - __main__ - INFO - - 结果可视化: 成功
2025-04-14 23:31:41,349 - __main__ - INFO - - 结果分析: 成功
2025-04-14 23:31:41,349 - __main__ - INFO - 开始验证系统完整性...
2025-04-14 23:31:41,350 - __main__ - WARNING - 系统验证不完整: 部分组件缺失
2025-04-14 23:31:41,350 - __main__ - INFO - 脓毒症早期预警系统 - 执行完成，总耗时: 0.40 分钟
2025-04-14 23:31:41,350 - __main__ - INFO - 生成的关键文件:
2025-04-14 23:31:41,351 - __main__ - INFO - - data/processed/patient_features.csv: 4272.41 KB
2025-04-14 23:31:41,351 - __main__ - INFO - - data/processed/sepsis_labels.csv: 111.66 KB
2025-04-14 23:31:41,351 - __main__ - WARNING - - models/best_model.pt: 文件不存在
2025-04-14 23:31:41,351 - __main__ - WARNING - - results/predictions.csv: 文件不存在
2025-04-14 23:31:41,352 - __main__ - INFO - - results/figures/roc_curve.png: 129.93 KB
2025-04-14 23:31:41,352 - __main__ - INFO - - results/sepsis_prediction_results.html: 4.42 KB
2025-04-14 23:31:41,352 - __main__ - INFO - 
脓毒症早期预警系统已完成执行。系统具有以下特点：
1. 大规模数据集：从MIMIC-IV中提取了大量真实患者数据
2. 高质量训练：使用了100轮次的训练，带有学习率调度和早停机制
3. 先进的模型架构：使用了多模态融合的神经网络结构
4. 详细的可视化：提供了风险轨迹、特征重要性等多种可视化图表
5. 完整的HTML报告：帮助医生解读模型结果

完整的结果可在 results 目录中查看，特别是:
- results/figures/: 各种可视化和性能图表

2025-04-14 23:36:42,017 - __main__ - INFO - ================================================================================
2025-04-14 23:36:42,017 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 23:36:42,017 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 23:36:42,018 - __main__ - INFO - ================================================================================
2025-04-14 23:36:42,019 - __main__ - INFO - 强制使用真实数据模式已启用
2025-04-14 23:36:42,019 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=True)
2025-04-14 23:36:42,093 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 23:36:42,094 - __main__ - INFO - 检查环境设置...
2025-04-14 23:36:46,152 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 23:36:46,153 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 23:36:47,680 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:36:47,680 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 23:36:47,682 - __main__ - INFO - 尝试直接检查数据库连接...
2025-04-14 23:36:47,682 - __main__ - INFO - 尝试连接数据库: 172.16.3.67:5432/mimiciv
2025-04-14 23:36:47,854 - __main__ - ERROR - 数据库连接失败: 'utf-8' codec can't decode byte 0xd6 in position 57: invalid continuation byte
2025-04-14 23:36:47,854 - __main__ - ERROR - 强制使用真实数据模式已启用，但数据库连接失败，终止执行
2025-04-14 23:36:47,856 - __main__ - ERROR - 环境检查失败，终止执行
2025-04-14 23:42:50,150 - __main__ - INFO - ================================================================================
2025-04-14 23:42:50,151 - __main__ - INFO - 脓毒症早期预警系统 - 开始执行
2025-04-14 23:42:50,151 - __main__ - INFO - 基于MIMIC-IV大型临床数据库的真实数据分析
2025-04-14 23:42:50,151 - __main__ - INFO - ================================================================================
2025-04-14 23:42:50,153 - __main__ - INFO - 强制使用真实数据模式已启用
2025-04-14 23:42:50,153 - __main__ - INFO - 运行参数: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=True)
2025-04-14 23:42:50,218 - __main__ - INFO - 系统信息: Windows 11 AMD64
2025-04-14 23:42:50,219 - __main__ - INFO - 检查环境设置...
2025-04-14 23:42:52,523 - __main__ - INFO - Python版本: 3.12.8
2025-04-14 23:42:52,523 - __main__ - INFO - PyTorch版本: 2.6.0+cu118
2025-04-14 23:42:53,972 - __main__ - INFO - GPU可用: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:42:53,973 - __main__ - INFO - 检测到psycopg2已安装
2025-04-14 23:42:53,973 - __main__ - INFO - 尝试直接检查数据库连接...
2025-04-14 23:42:53,973 - __main__ - INFO - 尝试连接数据库: 172.16.3.67:5432/mimiciv
2025-04-14 23:42:54,139 - __main__ - ERROR - 数据库连接失败: 'utf-8' codec can't decode byte 0xd6 in position 57: invalid continuation byte
2025-04-14 23:42:54,139 - __main__ - ERROR - 强制使用真实数据模式已启用，但数据库连接失败，终止执行
2025-04-14 23:42:54,139 - __main__ - ERROR - 环境检查失败，终止执行
2025-04-14 23:44:56,394 - __main__ - INFO - ================================================================================
2025-04-14 23:44:56,394 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-14 23:44:56,394 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-14 23:44:56,395 - __main__ - INFO - ================================================================================
2025-04-14 23:44:56,396 - __main__ - INFO - Execution parameters: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=True, force_real_data=False)
2025-04-14 23:44:56,465 - __main__ - INFO - System information: Windows 11 AMD64
2025-04-14 23:44:56,465 - __main__ - INFO - Checking environment settings...
2025-04-14 23:44:58,861 - __main__ - INFO - Python version: 3.12.8
2025-04-14 23:44:58,861 - __main__ - INFO - PyTorch version: 2.6.0+cu118
2025-04-14 23:45:00,379 - __main__ - INFO - GPU available: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:45:00,379 - __main__ - INFO - psycopg2 detected as installed
2025-04-14 23:45:00,379 - __main__ - INFO - Only running visualization mode, skipping database check
2025-04-14 23:45:00,379 - __main__ - INFO - Only running visualization part
2025-04-14 23:45:00,381 - __main__ - INFO - Starting to generate visualizations and reports...
2025-04-14 23:45:00,381 - __main__ - INFO - Executing task: Generate visualizations and reports
2025-04-14 23:45:06,068 - __main__ - INFO - Command completed successfully: python run_visualization.py (Time: 5.69 seconds)
2025-04-14 23:45:06,069 - __main__ - INFO - Output: 2025-04-14 23:45:03,266 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ���ʼ
2025-04-14 23:45:03,268 - __main__ - INFO - ����ROC����...
2025-04-14 23:45:04,218 - __main__ - INFO - ���ɷ��չ켣ͼ...
2025-04-14 23:45:04,779 - __main__ - INFO - ���ɻ�������...
2025-04-14 23:45:05,163 - __main__ - INFO - ����������Ҫ��ͼ...
2025-04-14 23:45:05,674 - __main__ - INFO - ����HTML����...
2025-04-14 23:45:05,675 - __main__ - INFO - HTML����������: results/sepsis_prediction_results.html
2025-04-14 23:45:05,675 - __main__ - INFO - ŧ��֢����Ԥ��ϵͳ���ӻ����
HTML����������: results/sepsis_prediction_results.html
���ӻ��ͱ������ɳɹ�����鿴 results Ŀ¼
2025-04-14 23:45:06,070 - __main__ - INFO - Generated visualization file: results/sepsis_prediction_results.html (4.42 KB)
2025-04-14 23:45:06,071 - __main__ - INFO - Generated visualization file: results/figures/roc_curve.png (129.93 KB)
2025-04-14 23:45:06,071 - __main__ - INFO - Generated visualization file: results/figures/risk_trajectories.png (333.66 KB)
2025-04-14 23:45:06,071 - __main__ - INFO - Generated visualization file: results/figures/confusion_matrix.png (89.21 KB)
2025-04-14 23:45:06,073 - __main__ - INFO - Generated visualization file: results/figures/feature_importance.png (137.88 KB)
2025-04-14 23:45:06,073 - __main__ - WARNING - Expected visualization file does not exist: results/figures/model_architecture.png
2025-04-14 23:45:06,073 - __main__ - INFO - Sepsis Early Warning System - Execution completed, Total time: 0.16 minutes
2025-04-14 23:45:06,073 - __main__ - INFO - Generated critical files:
2025-04-14 23:45:06,074 - __main__ - INFO - - data/processed/patient_features.csv: 4272.41 KB
2025-04-14 23:45:06,074 - __main__ - INFO - - data/processed/sepsis_labels.csv: 111.66 KB
2025-04-14 23:45:06,074 - __main__ - WARNING - - models/best_model.pt: File does not exist
2025-04-14 23:45:06,074 - __main__ - WARNING - - results/predictions.csv: File does not exist
2025-04-14 23:45:06,075 - __main__ - INFO - - results/figures/roc_curve.png: 129.93 KB
2025-04-14 23:45:06,075 - __main__ - INFO - - results/sepsis_prediction_results.html: 4.42 KB
2025-04-14 23:45:06,075 - __main__ - INFO - 
Sepsis Early Warning System completed execution. System has the following features:
1. Large dataset: Extracted data from MIMIC-IV includes data from many real patients
2. High-quality training: Used 100 rounds of training, with learning rate scheduling and early stopping
3. Advanced model architecture: Used neural network structure with multimodal fusion
4. Detailed visualizations: Provided risk trajectories, feature importance, etc.
5. Complete HTML report: Help doctors interpret model results

Complete results can be viewed in the results directory, especially:
- results/figures/: Various visualizations and performance charts

2025-04-14 23:46:39,470 - __main__ - INFO - ================================================================================
2025-04-14 23:46:39,470 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-14 23:46:39,471 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-14 23:46:39,471 - __main__ - INFO - ================================================================================
2025-04-14 23:46:39,473 - __main__ - INFO - Force real data mode enabled
2025-04-14 23:46:39,473 - __main__ - INFO - Execution parameters: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=True)
2025-04-14 23:46:39,541 - __main__ - INFO - System information: Windows 11 AMD64
2025-04-14 23:46:39,542 - __main__ - INFO - Checking environment settings...
2025-04-14 23:46:42,235 - __main__ - INFO - Python version: 3.12.8
2025-04-14 23:46:42,236 - __main__ - INFO - PyTorch version: 2.6.0+cu118
2025-04-14 23:46:43,701 - __main__ - INFO - GPU available: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:46:43,702 - __main__ - INFO - psycopg2 detected as installed
2025-04-14 23:46:43,702 - __main__ - INFO - Attempting to check database connection directly...
2025-04-14 23:46:43,702 - __main__ - INFO - Attempting to connect to database: 172.16.3.67:5432/mimiciv
2025-04-14 23:46:43,908 - __main__ - INFO - Database connection test successful
2025-04-14 23:46:43,991 - __main__ - INFO - Number of patients in MIMIC-IV database: 364,627
2025-04-14 23:46:43,992 - __main__ - INFO - Starting to generate MIMIC-IV derived tables...
2025-04-14 23:46:43,996 - utils.database_config - INFO - Connecting to MIMIC-IV database: 172.16.3.67:5432/mimiciv
2025-04-14 23:46:44,208 - utils.database_config - INFO - MIMIC-IV database connection successful!
2025-04-14 23:46:45,871 - __main__ - INFO - Derived tables exist and contain data: mimiciv_derived.sepsis3 (7,721,514 rows)
2025-04-14 23:46:45,873 - __main__ - INFO - Starting to extract clinical data from MIMIC-IV...
2025-04-14 23:46:45,873 - __main__ - INFO - Executing task: Extract clinical data
2025-04-14 23:46:58,387 - __main__ - INFO - Command completed successfully: python -m scripts.data_extraction_main  (Time: 12.51 seconds)
2025-04-14 23:46:58,388 - __main__ - INFO - Output: Traceback (most recent call last):
  File "D:\Documents\Downloads\ai\project\scripts\data_extraction_main.py", line 200, in main
    optimize_db_connection(conn)
  File "D:\Documents\Downloads\ai\project\scripts\data_extraction_main.py", line 84, in optimize_db_connection
    cursor.execute(f"SET {param} = '{value}'")
psycopg2.errors.InvalidParameterValue: ����:  2097152 kB�����˲��� "work_mem" (64 .. 2097151) ����Ч��Χ

��ʼ������ȡ���̣�ʱ��: 2025-04-14 23:46:57
������ȡ���̳���: ����:  2097152 kB�����˲��� "work_mem" (64 .. 2097151) ����Ч��Χ
2025-04-14 23:46:58,389 - __main__ - INFO - Generated data file: data/processed/patient_features.csv (4.17 MB)
2025-04-14 23:46:58,390 - __main__ - INFO - Generated data file: data/processed/sepsis_labels.csv (0.11 MB)
2025-04-14 23:46:58,390 - __main__ - ERROR - Expected output file does not exist: data/processed/text_embeddings.npz
2025-04-14 23:46:58,390 - __main__ - ERROR - Expected output file does not exist: data/processed/kg_embeddings.npz
2025-04-14 23:46:58,390 - __main__ - WARNING - Data extraction may be incomplete, continue processing but may result in subsequent step failures
2025-04-14 23:46:58,390 - __main__ - ERROR - Data file incomplete, but set to use real complete data
2025-04-14 23:46:58,390 - __main__ - ERROR - Data extraction failed, this may affect subsequent steps
2025-04-14 23:46:58,390 - __main__ - ERROR - Force real data mode enabled, but data extraction failed, terminating execution
2025-04-14 23:48:49,338 - __main__ - INFO - ================================================================================
2025-04-14 23:48:49,338 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-14 23:48:49,339 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-14 23:48:49,339 - __main__ - INFO - ================================================================================
2025-04-14 23:48:49,341 - __main__ - INFO - Force real data mode enabled
2025-04-14 23:48:49,341 - __main__ - INFO - Execution parameters: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=True)
2025-04-14 23:48:49,403 - __main__ - INFO - System information: Windows 11 AMD64
2025-04-14 23:48:49,403 - __main__ - INFO - Checking environment settings...
2025-04-14 23:48:51,683 - __main__ - INFO - Python version: 3.12.8
2025-04-14 23:48:51,683 - __main__ - INFO - PyTorch version: 2.6.0+cu118
2025-04-14 23:48:53,149 - __main__ - INFO - GPU available: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:48:53,150 - __main__ - INFO - psycopg2 detected as installed
2025-04-14 23:48:53,150 - __main__ - INFO - Attempting to check database connection directly...
2025-04-14 23:48:53,150 - __main__ - INFO - Attempting to connect to database: 172.16.3.67:5432/mimiciv
2025-04-14 23:48:53,418 - __main__ - ERROR - Database connection failed: 'utf-8' codec can't decode byte 0xd6 in position 57: invalid continuation byte
2025-04-14 23:48:53,418 - __main__ - ERROR - Force real data mode enabled, but database connection failed, terminating execution
2025-04-14 23:48:53,419 - __main__ - ERROR - Environment check failed, terminating execution
2025-04-14 23:51:25,133 - __main__ - INFO - ================================================================================
2025-04-14 23:51:25,133 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-14 23:51:25,133 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-14 23:51:25,134 - __main__ - INFO - ================================================================================
2025-04-14 23:51:25,136 - __main__ - INFO - Execution parameters: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=True, force_real_data=False)
2025-04-14 23:51:25,211 - __main__ - INFO - System information: Windows 11 AMD64
2025-04-14 23:51:25,211 - __main__ - INFO - Checking environment settings...
2025-04-14 23:51:27,721 - __main__ - INFO - Python version: 3.12.8
2025-04-14 23:51:27,721 - __main__ - INFO - PyTorch version: 2.6.0+cu118
2025-04-14 23:51:29,217 - __main__ - INFO - GPU available: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:51:29,218 - __main__ - INFO - psycopg2 detected as installed
2025-04-14 23:51:29,218 - __main__ - INFO - Only running visualization mode, skipping database check
2025-04-14 23:51:29,218 - __main__ - INFO - Only running visualization part
2025-04-14 23:51:29,219 - __main__ - INFO - Starting to generate visualizations and reports...
2025-04-14 23:51:29,219 - __main__ - INFO - Executing task: Generate visualizations and reports
2025-04-14 23:51:34,017 - __main__ - INFO - Command completed successfully: python run_visualization.py (Time: 4.80 seconds)
2025-04-14 23:51:34,017 - __main__ - INFO - Output: 2025-04-14 23:51:31,237 - __main__ - INFO - Sepsis Early Warning System Visualization Started
2025-04-14 23:51:31,237 - __main__ - INFO - Generating ROC curve...
2025-04-14 23:51:32,009 - __main__ - INFO - Generating risk trajectory chart...
2025-04-14 23:51:32,656 - __main__ - INFO - Generating confusion matrix...
2025-04-14 23:51:33,103 - __main__ - INFO - Generating feature importance chart...
2025-04-14 23:51:33,608 - __main__ - INFO - Generating HTML report...
2025-04-14 23:51:33,609 - __main__ - INFO - HTML report generated: results/sepsis_prediction_results.html
2025-04-14 23:51:33,609 - __main__ - INFO - Sepsis Early Warning System Visualization Completed
HTML report generated: results/sepsis_prediction_results.html
Visualization and report generation successful, please check the results directory
2025-04-14 23:51:34,018 - __main__ - INFO - Generated visualization file: results/sepsis_prediction_results.html (4.67 KB)
2025-04-14 23:51:34,019 - __main__ - INFO - Generated visualization file: results/figures/roc_curve.png (129.57 KB)
2025-04-14 23:51:34,019 - __main__ - INFO - Generated visualization file: results/figures/risk_trajectories.png (318.64 KB)
2025-04-14 23:51:34,020 - __main__ - INFO - Generated visualization file: results/figures/confusion_matrix.png (82.34 KB)
2025-04-14 23:51:34,020 - __main__ - INFO - Generated visualization file: results/figures/feature_importance.png (137.50 KB)
2025-04-14 23:51:34,020 - __main__ - WARNING - Expected visualization file does not exist: results/figures/model_architecture.png
2025-04-14 23:51:34,021 - __main__ - INFO - Sepsis Early Warning System - Execution completed, Total time: 0.15 minutes
2025-04-14 23:51:34,021 - __main__ - INFO - Generated critical files:
2025-04-14 23:51:34,021 - __main__ - INFO - - data/processed/patient_features.csv: 4272.41 KB
2025-04-14 23:51:34,022 - __main__ - INFO - - data/processed/sepsis_labels.csv: 111.66 KB
2025-04-14 23:51:34,022 - __main__ - WARNING - - models/best_model.pt: File does not exist
2025-04-14 23:51:34,022 - __main__ - WARNING - - results/predictions.csv: File does not exist
2025-04-14 23:51:34,023 - __main__ - INFO - - results/figures/roc_curve.png: 129.57 KB
2025-04-14 23:51:34,023 - __main__ - INFO - - results/sepsis_prediction_results.html: 4.67 KB
2025-04-14 23:51:34,023 - __main__ - INFO - 
Sepsis Early Warning System completed execution. System has the following features:
1. Large dataset: Extracted data from MIMIC-IV includes data from many real patients
2. High-quality training: Used 100 rounds of training, with learning rate scheduling and early stopping
3. Advanced model architecture: Used neural network structure with multimodal fusion
4. Detailed visualizations: Provided risk trajectories, feature importance, etc.
5. Complete HTML report: Help doctors interpret model results

Complete results can be viewed in the results directory, especially:
- results/figures/: Various visualizations and performance charts

2025-04-14 23:52:09,147 - __main__ - INFO - ================================================================================
2025-04-14 23:52:09,147 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-14 23:52:09,149 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-14 23:52:09,149 - __main__ - INFO - ================================================================================
2025-04-14 23:52:09,150 - __main__ - INFO - Force real data mode enabled
2025-04-14 23:52:09,150 - __main__ - INFO - Execution parameters: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=True)
2025-04-14 23:52:09,217 - __main__ - INFO - System information: Windows 11 AMD64
2025-04-14 23:52:09,217 - __main__ - INFO - Checking environment settings...
2025-04-14 23:52:11,507 - __main__ - INFO - Python version: 3.12.8
2025-04-14 23:52:11,507 - __main__ - INFO - PyTorch version: 2.6.0+cu118
2025-04-14 23:52:12,972 - __main__ - INFO - GPU available: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:52:12,972 - __main__ - INFO - psycopg2 detected as installed
2025-04-14 23:52:12,972 - __main__ - INFO - Attempting to check database connection directly...
2025-04-14 23:52:12,972 - __main__ - INFO - Attempting to connect to database: 172.16.3.67:5432/mimiciv
2025-04-14 23:52:13,187 - __main__ - INFO - Database connection test successful
2025-04-14 23:52:13,253 - __main__ - INFO - Number of patients in MIMIC-IV database: 364,627
2025-04-14 23:52:13,253 - __main__ - INFO - Starting to generate MIMIC-IV derived tables...
2025-04-14 23:52:13,258 - utils.database_config - INFO - Connecting to MIMIC-IV database: 172.16.3.67:5432/mimiciv
2025-04-14 23:52:13,454 - utils.database_config - INFO - MIMIC-IV database connection successful!
2025-04-14 23:52:13,820 - __main__ - INFO - Derived tables exist and contain data: mimiciv_derived.sepsis3 (7,721,514 rows)
2025-04-14 23:52:13,820 - __main__ - INFO - Starting to extract clinical data from MIMIC-IV...
2025-04-14 23:52:13,820 - __main__ - INFO - Executing task: Extract clinical data
2025-04-14 23:52:27,301 - __main__ - INFO - Command completed successfully: python -m scripts.data_extraction_main  (Time: 13.48 seconds)
2025-04-14 23:52:27,302 - __main__ - INFO - Output: 2025-04-14 23:52:23,951 - __main__ - INFO - Applying database optimization settings...
2025-04-14 23:52:24,115 - __main__ - INFO - Database optimization settings applied
D:\Documents\Downloads\ai\project\scripts\data_extraction_main.py:136: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  return pd.read_sql(query, conn)
D:\Documents\Downloads\ai\project\scripts\data_extraction_main.py:161: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  return pd.read_sql(query, conn)
Traceback (most recent call last):
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\pandas\io\sql.py", line 2674, in execute
    cur.execute(sql, *args)
psycopg2.errors.UndefinedColumn: ����:  �ֶ� s.stay_id ������
LINE 2:     SELECT DISTINCT s.subject_id, s.hadm_id, s.stay_id, 
                                                     ^
HINT:  Ҳ������Ҫ������"s.icustay_id"��


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Documents\Downloads\ai\project\scripts\data_extraction_main.py", line 233, in main
    sepsis_patients = get_sepsis_patients(conn)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Documents\Downloads\ai\project\scripts\data_extraction_main.py", line 161, in get_sepsis_patients
    return pd.read_sql(query, conn)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\pandas\io\sql.py", line 706, in read_sql
    return pandas_sql.read_query(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\pandas\io\sql.py", line 2738, in read_query
    cursor = self.execute(sql, params)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\pandas\io\sql.py", line 2686, in execute
    raise ex from exc
pandas.errors.DatabaseError: Execution failed on sql '
    SELECT DISTINCT s.subject_id, s.hadm_id, s.stay_id, 
           s.sofa_time as sepsis_onset_time
    FROM mimiciv_derived.sepsis3 s
    WHERE s.sepsis3 = 1
    ORDER BY s.subject_id, s.hadm_id, s.stay_id
    ': ����:  �ֶ� s.stay_id ������
LINE 2:     SELECT DISTINCT s.subject_id, s.hadm_id, s.stay_id, 
                                                     ^
HINT:  Ҳ������Ҫ������"s.icustay_id"��

��ʼ������ȡ���̣�ʱ��: 2025-04-14 23:52:23
��ȡ����������ICU����...
�ҵ� 74829 ������������ICU����
��ȡŧ��֢����...
������ȡ���̳���: Execution failed on sql '
    SELECT DISTINCT s.subject_id, s.hadm_id, s.stay_id, 
           s.sofa_time as sepsis_onset_time
    FROM mimiciv_derived.sepsis3 s
    WHERE s.sepsis3 = 1
    ORDER BY s.subject_id, s.hadm_id, s.stay_id
    ': ����:  �ֶ� s.stay_id ������
LINE 2:     SELECT DISTINCT s.subject_id, s.hadm_id, s.stay_id, 
                                                     ^
HINT:  Ҳ������Ҫ������"s.icustay_id"��
2025-04-14 23:52:27,305 - __main__ - INFO - Generated data file: data/processed/patient_features.csv (4.17 MB)
2025-04-14 23:52:27,306 - __main__ - INFO - Generated data file: data/processed/sepsis_labels.csv (0.11 MB)
2025-04-14 23:52:27,306 - __main__ - ERROR - Expected output file does not exist: data/processed/text_embeddings.npz
2025-04-14 23:52:27,306 - __main__ - ERROR - Expected output file does not exist: data/processed/kg_embeddings.npz
2025-04-14 23:52:27,306 - __main__ - WARNING - Data extraction may be incomplete, continue processing but may result in subsequent step failures
2025-04-14 23:52:27,306 - __main__ - ERROR - Data file incomplete, but set to use real complete data
2025-04-14 23:52:27,308 - __main__ - ERROR - Data extraction failed, this may affect subsequent steps
2025-04-14 23:52:27,308 - __main__ - ERROR - Force real data mode enabled, but data extraction failed, terminating execution
2025-04-14 23:54:05,073 - __main__ - INFO - ================================================================================
2025-04-14 23:54:05,073 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-14 23:54:05,073 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-14 23:54:05,073 - __main__ - INFO - ================================================================================
2025-04-14 23:54:05,074 - __main__ - INFO - Force real data mode enabled
2025-04-14 23:54:05,074 - __main__ - INFO - Execution parameters: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=True)
2025-04-14 23:54:05,144 - __main__ - INFO - System information: Windows 11 AMD64
2025-04-14 23:54:05,144 - __main__ - INFO - Checking environment settings...
2025-04-14 23:54:07,451 - __main__ - INFO - Python version: 3.12.8
2025-04-14 23:54:07,451 - __main__ - INFO - PyTorch version: 2.6.0+cu118
2025-04-14 23:54:08,933 - __main__ - INFO - GPU available: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:54:08,934 - __main__ - INFO - psycopg2 detected as installed
2025-04-14 23:54:08,934 - __main__ - INFO - Attempting to check database connection directly...
2025-04-14 23:54:08,934 - __main__ - INFO - Attempting to connect to database: 172.16.3.67:5432/mimiciv
2025-04-14 23:54:09,192 - __main__ - INFO - Database connection test successful
2025-04-14 23:54:09,259 - __main__ - INFO - Number of patients in MIMIC-IV database: 364,627
2025-04-14 23:54:09,260 - __main__ - INFO - Starting to generate MIMIC-IV derived tables...
2025-04-14 23:54:09,262 - utils.database_config - INFO - Connecting to MIMIC-IV database: 172.16.3.67:5432/mimiciv
2025-04-14 23:54:09,474 - utils.database_config - INFO - MIMIC-IV database connection successful!
2025-04-14 23:54:09,847 - __main__ - INFO - Derived tables exist and contain data: mimiciv_derived.sepsis3 (7,721,514 rows)
2025-04-14 23:54:09,848 - __main__ - INFO - Starting to extract clinical data from MIMIC-IV...
2025-04-14 23:54:09,848 - __main__ - INFO - Executing task: Extract clinical data
2025-04-14 23:54:22,406 - __main__ - INFO - Command completed successfully: python -m scripts.data_extraction_main  (Time: 12.56 seconds)
2025-04-14 23:54:22,406 - __main__ - INFO - Output: 2025-04-14 23:54:19,368 - __main__ - INFO - Applying database optimization settings...
2025-04-14 23:54:19,532 - __main__ - INFO - Database optimization settings applied
D:\Documents\Downloads\ai\project\scripts\data_extraction_main.py:136: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  return pd.read_sql(query, conn)
D:\Documents\Downloads\ai\project\scripts\data_extraction_main.py:161: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  return pd.read_sql(query, conn)
Traceback (most recent call last):
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\pandas\io\sql.py", line 2674, in execute
    cur.execute(sql, *args)
psycopg2.errors.UndefinedColumn: ����:  �ֶ� s.stay_id ������
LINE 2:     SELECT DISTINCT s.subject_id, s.hadm_id, s.stay_id, 
                                                     ^
HINT:  Ҳ������Ҫ������"s.icustay_id"��


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Documents\Downloads\ai\project\scripts\data_extraction_main.py", line 233, in main
    sepsis_patients = get_sepsis_patients(conn)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Documents\Downloads\ai\project\scripts\data_extraction_main.py", line 161, in get_sepsis_patients
    return pd.read_sql(query, conn)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\pandas\io\sql.py", line 706, in read_sql
    return pandas_sql.read_query(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\pandas\io\sql.py", line 2738, in read_query
    cursor = self.execute(sql, params)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\pandas\io\sql.py", line 2686, in execute
    raise ex from exc
pandas.errors.DatabaseError: Execution failed on sql '
    SELECT DISTINCT s.subject_id, s.hadm_id, s.stay_id, 
           s.sofa_time as sepsis_onset_time
    FROM mimiciv_derived.sepsis3 s
    WHERE s.sepsis3 = 1
    ORDER BY s.subject_id, s.hadm_id, s.stay_id
    ': ����:  �ֶ� s.stay_id ������
LINE 2:     SELECT DISTINCT s.subject_id, s.hadm_id, s.stay_id, 
                                                     ^
HINT:  Ҳ������Ҫ������"s.icustay_id"��

��ʼ������ȡ���̣�ʱ��: 2025-04-14 23:54:19
��ȡ����������ICU����...
�ҵ� 74829 ������������ICU����
��ȡŧ��֢����...
������ȡ���̳���: Execution failed on sql '
    SELECT DISTINCT s.subject_id, s.hadm_id, s.stay_id, 
           s.sofa_time as sepsis_onset_time
    FROM mimiciv_derived.sepsis3 s
    WHERE s.sepsis3 = 1
    ORDER BY s.subject_id, s.hadm_id, s.stay_id
    ': ����:  �ֶ� s.stay_id ������
LINE 2:     SELECT DISTINCT s.subject_id, s.hadm_id, s.stay_id, 
                                                     ^
HINT:  Ҳ������Ҫ������"s.icustay_id"��
2025-04-14 23:54:22,409 - __main__ - INFO - Generated data file: data/processed/patient_features.csv (4.17 MB)
2025-04-14 23:54:22,410 - __main__ - INFO - Generated data file: data/processed/sepsis_labels.csv (0.11 MB)
2025-04-14 23:54:22,410 - __main__ - ERROR - Expected output file does not exist: data/processed/text_embeddings.npz
2025-04-14 23:54:22,410 - __main__ - ERROR - Expected output file does not exist: data/processed/kg_embeddings.npz
2025-04-14 23:54:22,410 - __main__ - WARNING - Data extraction may be incomplete, continue processing but may result in subsequent step failures
2025-04-14 23:54:22,411 - __main__ - ERROR - Data file incomplete, but set to use real complete data
2025-04-14 23:54:22,411 - __main__ - ERROR - Data extraction failed, this may affect subsequent steps
2025-04-14 23:54:22,411 - __main__ - ERROR - Force real data mode enabled, but data extraction failed, terminating execution
2025-04-14 23:56:23,007 - __main__ - INFO - ================================================================================
2025-04-14 23:56:23,008 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-14 23:56:23,008 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-14 23:56:23,008 - __main__ - INFO - ================================================================================
2025-04-14 23:56:23,010 - __main__ - INFO - Force real data mode enabled
2025-04-14 23:56:23,010 - __main__ - INFO - Execution parameters: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=True)
2025-04-14 23:56:23,080 - __main__ - INFO - System information: Windows 11 AMD64
2025-04-14 23:56:23,081 - __main__ - INFO - Checking environment settings...
2025-04-14 23:56:25,428 - __main__ - INFO - Python version: 3.12.8
2025-04-14 23:56:25,428 - __main__ - INFO - PyTorch version: 2.6.0+cu118
2025-04-14 23:56:26,893 - __main__ - INFO - GPU available: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-14 23:56:26,893 - __main__ - INFO - psycopg2 detected as installed
2025-04-14 23:56:26,894 - __main__ - INFO - Attempting to check database connection directly...
2025-04-14 23:56:26,894 - __main__ - INFO - Attempting to connect to database: 172.16.3.67:5432/mimiciv
2025-04-14 23:56:27,116 - __main__ - INFO - Database connection test successful
2025-04-14 23:56:27,183 - __main__ - INFO - Number of patients in MIMIC-IV database: 364,627
2025-04-14 23:56:27,184 - __main__ - INFO - Starting to generate MIMIC-IV derived tables...
2025-04-14 23:56:27,186 - utils.database_config - INFO - Connecting to MIMIC-IV database: 172.16.3.67:5432/mimiciv
2025-04-14 23:56:27,387 - utils.database_config - INFO - MIMIC-IV database connection successful!
2025-04-14 23:56:27,753 - __main__ - INFO - Derived tables exist and contain data: mimiciv_derived.sepsis3 (7,721,514 rows)
2025-04-14 23:56:27,754 - __main__ - INFO - Starting to extract clinical data from MIMIC-IV...
2025-04-14 23:56:27,754 - __main__ - INFO - Executing task: Extract clinical data
2025-04-14 23:56:40,299 - __main__ - INFO - Command completed successfully: python -m scripts.data_extraction_main  (Time: 12.54 seconds)
2025-04-14 23:56:40,299 - __main__ - INFO - Output: 2025-04-14 23:56:37,212 - __main__ - INFO - Applying database optimization settings...
2025-04-14 23:56:37,373 - __main__ - INFO - Database optimization settings applied
D:\Documents\Downloads\ai\project\scripts\data_extraction_main.py:136: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  return pd.read_sql(query, conn)
D:\Documents\Downloads\ai\project\scripts\data_extraction_main.py:161: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  return pd.read_sql(query, conn)
Traceback (most recent call last):
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\pandas\io\sql.py", line 2674, in execute
    cur.execute(sql, *args)
psycopg2.errors.UndefinedColumn: ����:  �ֶ� s.sofa_time ������
LINE 3:            s.sofa_time as sepsis_onset_time
                   ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Documents\Downloads\ai\project\scripts\data_extraction_main.py", line 233, in main
    sepsis_patients = get_sepsis_patients(conn)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Documents\Downloads\ai\project\scripts\data_extraction_main.py", line 161, in get_sepsis_patients
    return pd.read_sql(query, conn)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\pandas\io\sql.py", line 706, in read_sql
    return pandas_sql.read_query(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\pandas\io\sql.py", line 2738, in read_query
    cursor = self.execute(sql, params)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\pandas\io\sql.py", line 2686, in execute
    raise ex from exc
pandas.errors.DatabaseError: Execution failed on sql '
    SELECT DISTINCT s.subject_id, s.hadm_id, s.icustay_id as stay_id, 
           s.sofa_time as sepsis_onset_time
    FROM mimiciv_derived.sepsis3 s
    WHERE s.sepsis3 = 1
    ORDER BY s.subject_id, s.hadm_id, s.icustay_id
    ': ����:  �ֶ� s.sofa_time ������
LINE 3:            s.sofa_time as sepsis_onset_time
                   ^

��ʼ������ȡ���̣�ʱ��: 2025-04-14 23:56:37
��ȡ����������ICU����...
�ҵ� 74829 ������������ICU����
��ȡŧ��֢����...
������ȡ���̳���: Execution failed on sql '
    SELECT DISTINCT s.subject_id, s.hadm_id, s.icustay_id as stay_id, 
           s.sofa_time as sepsis_onset_time
    FROM mimiciv_derived.sepsis3 s
    WHERE s.sepsis3 = 1
    ORDER BY s.subject_id, s.hadm_id, s.icustay_id
    ': ����:  �ֶ� s.sofa_time ������
LINE 3:            s.sofa_time as sepsis_onset_time
                   ^
2025-04-14 23:56:40,302 - __main__ - INFO - Generated data file: data/processed/patient_features.csv (4.17 MB)
2025-04-14 23:56:40,302 - __main__ - INFO - Generated data file: data/processed/sepsis_labels.csv (0.11 MB)
2025-04-14 23:56:40,303 - __main__ - ERROR - Expected output file does not exist: data/processed/text_embeddings.npz
2025-04-14 23:56:40,303 - __main__ - ERROR - Expected output file does not exist: data/processed/kg_embeddings.npz
2025-04-14 23:56:40,303 - __main__ - WARNING - Data extraction may be incomplete, continue processing but may result in subsequent step failures
2025-04-14 23:56:40,303 - __main__ - ERROR - Data file incomplete, but set to use real complete data
2025-04-14 23:56:40,304 - __main__ - ERROR - Data extraction failed, this may affect subsequent steps
2025-04-14 23:56:40,304 - __main__ - ERROR - Force real data mode enabled, but data extraction failed, terminating execution
2025-04-15 00:18:30,128 - __main__ - INFO - ================================================================================
2025-04-15 00:18:30,128 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-15 00:18:30,128 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-15 00:18:30,128 - __main__ - INFO - ================================================================================
2025-04-15 00:18:30,137 - __main__ - INFO - Execution parameters: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=False)
2025-04-15 00:18:30,303 - __main__ - INFO - System information: Windows 11 AMD64
2025-04-15 00:18:30,307 - __main__ - INFO - Checking environment settings...
2025-04-15 00:18:33,588 - __main__ - ERROR - Unhandled error occurred: 
2025-04-15 00:18:33,601 - __main__ - ERROR - Traceback (most recent call last):
  File "D:\Documents\Downloads\ai\project\run_complete_sepsis_system.py", line 659, in <module>
    success = main()
              ^^^^^^
  File "D:\Documents\Downloads\ai\project\run_complete_sepsis_system.py", line 553, in main
    if not check_environment():
           ^^^^^^^^^^^^^^^^^^^
  File "D:\Documents\Downloads\ai\project\run_complete_sepsis_system.py", line 133, in check_environment
    if not verify_environment_prerequisites():
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Documents\Downloads\ai\project\run_complete_sepsis_system.py", line 112, in verify_environment_prerequisites
    __import__(module)
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\torch\__init__.py", line 2222, in <module>
    from torch import quantization as quantization  # usort: skip
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\torch\quantization\__init__.py", line 2, in <module>
    from .fake_quantize import *  # noqa: F403
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\torch\quantization\fake_quantize.py", line 10, in <module>
    from torch.ao.quantization.fake_quantize import (
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\torch\ao\quantization\__init__.py", line 12, in <module>
    from .pt2e._numeric_debugger import (  # noqa: F401
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\torch\ao\quantization\pt2e\_numeric_debugger.py", line 8, in <module>
    from torch.ao.quantization.pt2e.graph_utils import get_control_flow_submodules
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\torch\ao\quantization\pt2e\graph_utils.py", line 8, in <module>
    from torch.fx.passes.utils.source_matcher_utils import (
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\torch\fx\passes\__init__.py", line 1, in <module>
    from . import (
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\torch\fx\passes\graph_drawer.py", line 13, in <module>
    from torch.fx.passes.shape_prop import TensorMetadata
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\torch\fx\passes\shape_prop.py", line 8, in <module>
    from torch._dispatch.python import enable_python_dispatcher
  File "C:\Users\Think\AppData\Roaming\Python\Python312\site-packages\torch\_dispatch\python.py", line 3, in <module>
    import unittest.mock
  File "C:\Program Files\Python\Lib\unittest\__init__.py", line 61, in <module>
    from .case import (addModuleCleanup, TestCase, FunctionTestCase, SkipTest, skip,
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 995, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1091, in get_code
  File "<frozen importlib._bootstrap_external>", line 1191, in get_data
MemoryError

2025-04-15 09:20:51,124 - __main__ - INFO - ================================================================================
2025-04-15 09:20:51,125 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-15 09:20:51,125 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-15 09:20:51,125 - __main__ - INFO - ================================================================================
2025-04-15 09:21:08,003 - __main__ - INFO - ================================================================================
2025-04-15 09:21:08,003 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-15 09:21:08,004 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-15 09:21:08,004 - __main__ - INFO - ================================================================================
2025-04-15 09:21:08,006 - __main__ - INFO - Execution parameters: Namespace(sample=False, epochs=100, batch_size=64, skip_db=True, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=False)
2025-04-15 09:21:08,095 - __main__ - INFO - System information: Windows 11 AMD64
2025-04-15 09:21:08,095 - __main__ - INFO - Checking environment settings...
2025-04-15 09:21:12,114 - __main__ - INFO - Python version: 3.12.8
2025-04-15 09:21:12,116 - __main__ - INFO - PyTorch version: 2.6.0+cu118
2025-04-15 09:21:12,160 - __main__ - INFO - GPU available: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-15 09:21:12,161 - __main__ - INFO - psycopg2 detected as installed
2025-04-15 09:21:12,161 - __main__ - INFO - Attempting to check database connection directly...
2025-04-15 09:21:12,162 - __main__ - INFO - Attempting to connect to database: 172.16.3.67:5432/mimiciv
2025-04-15 09:21:12,390 - __main__ - INFO - Database connection test successful
2025-04-15 09:21:12,918 - __main__ - INFO - Number of patients in MIMIC-IV database: 364,627
2025-04-15 09:21:12,918 - __main__ - INFO - Starting to extract clinical data from MIMIC-IV...
2025-04-15 09:21:12,918 - __main__ - INFO - Executing task: Extract clinical data
2025-04-15 10:54:26,917 - __main__ - INFO - ================================================================================
2025-04-15 10:54:26,919 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-15 10:54:26,920 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-15 10:54:26,920 - __main__ - INFO - ================================================================================
2025-04-15 10:54:26,923 - __main__ - INFO - Execution parameters: Namespace(sample=False, epochs=100, batch_size=64, skip_db=True, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=False)
2025-04-15 10:54:27,049 - __main__ - INFO - System information: Windows 11 AMD64
2025-04-15 10:54:27,049 - __main__ - INFO - Checking environment settings...
2025-04-15 10:54:31,841 - __main__ - INFO - Python version: 3.12.8
2025-04-15 10:54:31,842 - __main__ - INFO - PyTorch version: 2.6.0+cu118
2025-04-15 10:54:31,889 - __main__ - INFO - GPU available: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-15 10:54:31,889 - __main__ - INFO - psycopg2 detected as installed
2025-04-15 10:54:31,890 - __main__ - INFO - Attempting to check database connection directly...
2025-04-15 10:54:31,890 - __main__ - INFO - Attempting to connect to database: 172.16.3.67:5432/mimiciv
2025-04-15 10:54:32,102 - __main__ - INFO - Database connection test successful
2025-04-15 10:54:32,582 - __main__ - INFO - Number of patients in MIMIC-IV database: 364,627
2025-04-15 10:54:32,582 - __main__ - INFO - Starting to extract clinical data from MIMIC-IV...
2025-04-15 10:54:32,583 - __main__ - INFO - Executing task: Extract clinical data
2025-04-15 11:30:14,221 - __main__ - INFO - ================================================================================
2025-04-15 11:30:14,221 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-15 11:30:14,221 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-15 11:30:14,221 - __main__ - INFO - ================================================================================
2025-04-15 11:30:41,382 - __main__ - INFO - ================================================================================
2025-04-15 11:30:41,383 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-15 11:30:41,383 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-15 11:30:41,383 - __main__ - INFO - ================================================================================
2025-04-15 11:30:41,385 - __main__ - INFO - Execution parameters: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=True, skip_training=False, only_viz=False, force_real_data=False)
2025-04-15 11:30:41,459 - __main__ - INFO - System information: Windows 11 AMD64
2025-04-15 11:30:41,459 - __main__ - INFO - Checking environment settings...
2025-04-15 11:30:43,934 - __main__ - INFO - Python version: 3.12.8
2025-04-15 11:30:43,935 - __main__ - INFO - PyTorch version: 2.6.0+cu118
2025-04-15 11:30:43,965 - __main__ - INFO - GPU available: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-15 11:30:43,965 - __main__ - INFO - psycopg2 detected as installed
2025-04-15 11:30:43,966 - __main__ - INFO - Attempting to check database connection directly...
2025-04-15 11:30:43,966 - __main__ - INFO - Attempting to connect to database: 172.16.3.67:5432/mimiciv
2025-04-15 11:30:44,303 - __main__ - INFO - Database connection test successful
2025-04-15 11:30:44,454 - __main__ - INFO - Number of patients in MIMIC-IV database: 364,627
2025-04-15 11:30:44,454 - __main__ - INFO - Starting to generate MIMIC-IV derived tables...
2025-04-15 11:30:44,463 - utils.database_config - INFO - Connecting to MIMIC-IV database: 172.16.3.67:5432/mimiciv
2025-04-15 11:30:44,902 - utils.database_config - INFO - MIMIC-IV database connection successful!
2025-04-15 11:30:46,046 - __main__ - INFO - Derived tables exist and contain data: mimiciv_derived.sepsis3 (7,721,514 rows)
2025-04-15 11:30:46,047 - __main__ - INFO - Starting to train sepsis prediction model...
2025-04-15 11:30:46,048 - __main__ - INFO - Executing task: Train multimodal prediction model
2025-04-15 11:30:46,124 - __main__ - INFO - Command completed successfully: python -m scripts.model_training --epochs 100 --batch_size 64 --learning_rate 0.0001 --early_stopping 10 --save_model True --use_multimodal True --use_weighted_loss True (Time: 0.08 seconds)
2025-04-15 11:30:46,124 - __main__ - ERROR - Model file does not exist: models/best_model.pt
2025-04-15 11:30:46,124 - __main__ - ERROR - Model training failed, this may affect subsequent steps
2025-04-15 11:30:46,126 - __main__ - INFO - Starting to generate visualizations and reports...
2025-04-15 11:30:46,126 - __main__ - INFO - Executing task: Generate visualizations and reports
2025-04-15 11:30:51,224 - __main__ - INFO - Command completed successfully: python run_visualization.py (Time: 5.10 seconds)
2025-04-15 11:30:51,225 - __main__ - INFO - Output: 2025-04-15 11:30:48,298 - __main__ - INFO - Sepsis Early Warning System Visualization Started
2025-04-15 11:30:48,299 - __main__ - INFO - Generating ROC curve...
2025-04-15 11:30:49,244 - __main__ - INFO - Generating risk trajectory chart...
2025-04-15 11:30:49,798 - __main__ - INFO - Generating confusion matrix...
2025-04-15 11:30:50,201 - __main__ - INFO - Generating feature importance chart...
2025-04-15 11:30:50,737 - __main__ - INFO - Generating HTML report...
2025-04-15 11:30:50,739 - __main__ - INFO - HTML report generated: results/sepsis_prediction_results.html
2025-04-15 11:30:50,739 - __main__ - INFO - Sepsis Early Warning System Visualization Completed
HTML report generated: results/sepsis_prediction_results.html
Visualization and report generation successful, please check the results directory
2025-04-15 11:30:51,226 - __main__ - INFO - Generated visualization file: results/sepsis_prediction_results.html (4.67 KB)
2025-04-15 11:30:51,226 - __main__ - INFO - Generated visualization file: results/figures/roc_curve.png (129.57 KB)
2025-04-15 11:30:51,227 - __main__ - INFO - Generated visualization file: results/figures/risk_trajectories.png (318.64 KB)
2025-04-15 11:30:51,227 - __main__ - INFO - Generated visualization file: results/figures/confusion_matrix.png (82.34 KB)
2025-04-15 11:30:51,227 - __main__ - INFO - Generated visualization file: results/figures/feature_importance.png (137.50 KB)
2025-04-15 11:30:51,228 - __main__ - WARNING - Expected visualization file does not exist: results/figures/model_architecture.png
2025-04-15 11:30:51,228 - __main__ - INFO - Starting to analyze model performance and results...
2025-04-15 11:30:51,228 - __main__ - INFO - Executing task: Analyze model results
2025-04-15 11:30:57,045 - __main__ - INFO - Command completed successfully: python -m scripts.analysis --full (Time: 5.82 seconds)
2025-04-15 11:30:57,045 - __main__ - INFO - Output: ��ʼ���а�������...
�������ݺ�ģ��...
�ӱ����ļ���������...
���а�������ʱ����: [Errno 2] No such file or directory: 'models/best_model.pt'
2025-04-15 11:30:57,046 - __main__ - INFO - Process execution status:
2025-04-15 11:30:57,046 - __main__ - INFO - - Database derived tables: Success
2025-04-15 11:30:57,046 - __main__ - INFO - - Model training: Failure
2025-04-15 11:30:57,046 - __main__ - INFO - - Result visualization: Success
2025-04-15 11:30:57,046 - __main__ - INFO - - Result analysis: Success
2025-04-15 11:30:57,047 - __main__ - INFO - Starting to validate system completeness...
2025-04-15 11:30:57,047 - __main__ - WARNING - System validation incomplete: Some components missing
2025-04-15 11:30:57,047 - __main__ - INFO - Sepsis Early Warning System - Execution completed, Total time: 0.26 minutes
2025-04-15 11:30:57,048 - __main__ - INFO - Generated critical files:
2025-04-15 11:30:57,048 - __main__ - INFO - - data/processed/patient_features.csv: 4272.41 KB
2025-04-15 11:30:57,048 - __main__ - INFO - - data/processed/sepsis_labels.csv: 111.66 KB
2025-04-15 11:30:57,049 - __main__ - WARNING - - models/best_model.pt: File does not exist
2025-04-15 11:30:57,049 - __main__ - WARNING - - results/predictions.csv: File does not exist
2025-04-15 11:30:57,049 - __main__ - INFO - - results/figures/roc_curve.png: 129.57 KB
2025-04-15 11:30:57,050 - __main__ - INFO - - results/sepsis_prediction_results.html: 4.67 KB
2025-04-15 11:30:57,050 - __main__ - INFO - 
Sepsis Early Warning System completed execution. System has the following features:
1. Large dataset: Extracted data from MIMIC-IV includes data from many real patients
2. High-quality training: Used 100 rounds of training, with learning rate scheduling and early stopping
3. Advanced model architecture: Used neural network structure with multimodal fusion
4. Detailed visualizations: Provided risk trajectories, feature importance, etc.
5. Complete HTML report: Help doctors interpret model results

Complete results can be viewed in the results directory, especially:
- results/figures/: Various visualizations and performance charts

2025-04-15 11:34:09,430 - __main__ - INFO - ================================================================================
2025-04-15 11:34:09,430 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-15 11:34:09,430 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-15 11:34:09,431 - __main__ - INFO - ================================================================================
2025-04-15 11:34:09,433 - __main__ - INFO - Execution parameters: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=True, skip_training=False, only_viz=False, force_real_data=False)
2025-04-15 11:34:09,511 - __main__ - INFO - System information: Windows 11 AMD64
2025-04-15 11:34:09,511 - __main__ - INFO - Checking environment settings...
2025-04-15 11:34:12,326 - __main__ - INFO - Python version: 3.12.8
2025-04-15 11:34:12,327 - __main__ - INFO - PyTorch version: 2.6.0+cu118
2025-04-15 11:34:12,364 - __main__ - INFO - GPU available: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-15 11:34:12,365 - __main__ - INFO - psycopg2 detected as installed
2025-04-15 11:34:12,365 - __main__ - INFO - Attempting to check database connection directly...
2025-04-15 11:34:12,365 - __main__ - INFO - Attempting to connect to database: 172.16.3.67:5432/mimiciv
2025-04-15 11:34:12,706 - __main__ - INFO - Database connection test successful
2025-04-15 11:34:12,845 - __main__ - INFO - Number of patients in MIMIC-IV database: 364,627
2025-04-15 11:34:12,845 - __main__ - INFO - Starting to generate MIMIC-IV derived tables...
2025-04-15 11:34:12,847 - utils.database_config - INFO - Connecting to MIMIC-IV database: 172.16.3.67:5432/mimiciv
2025-04-15 11:34:13,183 - utils.database_config - INFO - MIMIC-IV database connection successful!
2025-04-15 11:34:14,304 - __main__ - INFO - Derived tables exist and contain data: mimiciv_derived.sepsis3 (7,721,514 rows)
2025-04-15 11:34:14,305 - __main__ - INFO - Starting to train sepsis prediction model...
2025-04-15 11:34:14,306 - __main__ - INFO - Executing task: Train multimodal prediction model
2025-04-15 11:34:14,387 - __main__ - INFO - Command completed successfully: python -m scripts.model_training --epochs 100 --batch_size 64 --learning_rate 0.0001 --early_stopping 10 --save_model True --use_multimodal True --use_weighted_loss True (Time: 0.08 seconds)
2025-04-15 11:34:14,388 - __main__ - ERROR - Model file does not exist: models/best_model.pt
2025-04-15 11:34:14,388 - __main__ - ERROR - Model training failed, this may affect subsequent steps
2025-04-15 11:34:14,389 - __main__ - INFO - Starting to generate visualizations and reports...
2025-04-15 11:34:14,389 - __main__ - INFO - Executing task: Generate visualizations and reports
2025-04-15 11:34:19,648 - __main__ - INFO - Command completed successfully: python run_visualization.py (Time: 5.26 seconds)
2025-04-15 11:34:19,649 - __main__ - INFO - Output: 2025-04-15 11:34:16,798 - __main__ - INFO - Sepsis Early Warning System Visualization Started
2025-04-15 11:34:16,799 - __main__ - INFO - Generating ROC curve...
2025-04-15 11:34:17,691 - __main__ - INFO - Generating risk trajectory chart...
2025-04-15 11:34:18,237 - __main__ - INFO - Generating confusion matrix...
2025-04-15 11:34:18,652 - __main__ - INFO - Generating feature importance chart...
2025-04-15 11:34:19,166 - __main__ - INFO - Generating HTML report...
2025-04-15 11:34:19,167 - __main__ - INFO - HTML report generated: results/sepsis_prediction_results.html
2025-04-15 11:34:19,167 - __main__ - INFO - Sepsis Early Warning System Visualization Completed
HTML report generated: results/sepsis_prediction_results.html
Visualization and report generation successful, please check the results directory
2025-04-15 11:34:19,650 - __main__ - INFO - Generated visualization file: results/sepsis_prediction_results.html (4.67 KB)
2025-04-15 11:34:19,651 - __main__ - INFO - Generated visualization file: results/figures/roc_curve.png (129.57 KB)
2025-04-15 11:34:19,651 - __main__ - INFO - Generated visualization file: results/figures/risk_trajectories.png (318.64 KB)
2025-04-15 11:34:19,652 - __main__ - INFO - Generated visualization file: results/figures/confusion_matrix.png (82.34 KB)
2025-04-15 11:34:19,652 - __main__ - INFO - Generated visualization file: results/figures/feature_importance.png (137.50 KB)
2025-04-15 11:34:19,652 - __main__ - WARNING - Expected visualization file does not exist: results/figures/model_architecture.png
2025-04-15 11:34:19,653 - __main__ - INFO - Starting to analyze model performance and results...
2025-04-15 11:34:19,653 - __main__ - INFO - Executing task: Analyze model results
2025-04-15 11:34:26,292 - __main__ - INFO - Command completed successfully: python -m scripts.analysis --full (Time: 6.64 seconds)
2025-04-15 11:34:26,292 - __main__ - INFO - Output: ��ʼ���а�������...
�������ݺ�ģ��...
�ӱ����ļ���������...
���а�������ʱ����: [Errno 2] No such file or directory: 'models/best_model.pt'
2025-04-15 11:34:26,293 - __main__ - INFO - Process execution status:
2025-04-15 11:34:26,293 - __main__ - INFO - - Database derived tables: Success
2025-04-15 11:34:26,293 - __main__ - INFO - - Model training: Failure
2025-04-15 11:34:26,294 - __main__ - INFO - - Result visualization: Success
2025-04-15 11:34:26,294 - __main__ - INFO - - Result analysis: Success
2025-04-15 11:34:26,294 - __main__ - INFO - Starting to validate system completeness...
2025-04-15 11:34:26,294 - __main__ - WARNING - System validation incomplete: Some components missing
2025-04-15 11:34:26,294 - __main__ - INFO - Sepsis Early Warning System - Execution completed, Total time: 0.28 minutes
2025-04-15 11:34:26,295 - __main__ - INFO - Generated critical files:
2025-04-15 11:34:26,295 - __main__ - INFO - - data/processed/patient_features.csv: 61665.00 KB
2025-04-15 11:34:26,296 - __main__ - INFO - - data/processed/sepsis_labels.csv: 3966.01 KB
2025-04-15 11:34:26,296 - __main__ - WARNING - - models/best_model.pt: File does not exist
2025-04-15 11:34:26,296 - __main__ - WARNING - - results/predictions.csv: File does not exist
2025-04-15 11:34:26,296 - __main__ - INFO - - results/figures/roc_curve.png: 129.57 KB
2025-04-15 11:34:26,297 - __main__ - INFO - - results/sepsis_prediction_results.html: 4.67 KB
2025-04-15 11:34:26,297 - __main__ - INFO - 
Sepsis Early Warning System completed execution. System has the following features:
1. Large dataset: Extracted data from MIMIC-IV includes data from many real patients
2. High-quality training: Used 100 rounds of training, with learning rate scheduling and early stopping
3. Advanced model architecture: Used neural network structure with multimodal fusion
4. Detailed visualizations: Provided risk trajectories, feature importance, etc.
5. Complete HTML report: Help doctors interpret model results

Complete results can be viewed in the results directory, especially:
- results/figures/: Various visualizations and performance charts

2025-04-15 11:38:35,649 - __main__ - INFO - ================================================================================
2025-04-15 11:38:35,649 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-15 11:38:35,649 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-15 11:38:35,649 - __main__ - INFO - ================================================================================
2025-04-15 11:38:35,651 - __main__ - INFO - Execution parameters: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=True, skip_training=False, only_viz=False, force_real_data=False)
2025-04-15 11:38:35,725 - __main__ - INFO - System information: Windows 11 AMD64
2025-04-15 11:38:35,726 - __main__ - INFO - Checking environment settings...
2025-04-15 11:38:38,227 - __main__ - INFO - Python version: 3.12.8
2025-04-15 11:38:38,227 - __main__ - INFO - PyTorch version: 2.6.0+cu118
2025-04-15 11:38:38,258 - __main__ - INFO - GPU available: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-15 11:38:38,259 - __main__ - INFO - psycopg2 detected as installed
2025-04-15 11:38:38,260 - __main__ - INFO - Attempting to check database connection directly...
2025-04-15 11:38:38,260 - __main__ - INFO - Attempting to connect to database: 172.16.3.67:5432/mimiciv
2025-04-15 11:38:38,626 - __main__ - INFO - Database connection test successful
2025-04-15 11:38:39,737 - __main__ - INFO - Number of patients in MIMIC-IV database: 364,627
2025-04-15 11:38:39,737 - __main__ - INFO - Starting to generate MIMIC-IV derived tables...
2025-04-15 11:38:39,739 - utils.database_config - INFO - Connecting to MIMIC-IV database: 172.16.3.67:5432/mimiciv
2025-04-15 11:38:40,051 - utils.database_config - INFO - MIMIC-IV database connection successful!
2025-04-15 11:39:06,287 - __main__ - INFO - Derived tables exist and contain data: mimiciv_derived.sepsis3 (7,721,514 rows)
2025-04-15 11:39:06,287 - __main__ - INFO - Starting to train sepsis prediction model...
2025-04-15 11:39:06,288 - __main__ - INFO - Executing task: Train multimodal prediction model
2025-04-15 11:39:06,362 - __main__ - INFO - Command completed successfully: python -m scripts.model_training --epochs 100 --batch_size 64 --learning_rate 0.0001 --early_stopping 10 --save_model True --use_multimodal True --use_weighted_loss True (Time: 0.07 seconds)
2025-04-15 11:39:06,369 - __main__ - ERROR - Model file does not exist: models/best_model.pt
2025-04-15 11:39:06,370 - __main__ - ERROR - Model training failed, this may affect subsequent steps
2025-04-15 11:39:06,370 - __main__ - INFO - Starting to generate visualizations and reports...
2025-04-15 11:39:06,370 - __main__ - INFO - Executing task: Generate visualizations and reports
2025-04-15 11:39:11,787 - __main__ - INFO - Command completed successfully: python run_visualization.py (Time: 5.42 seconds)
2025-04-15 11:39:11,787 - __main__ - INFO - Output: 2025-04-15 11:39:08,690 - __main__ - INFO - Sepsis Early Warning System Visualization Started
2025-04-15 11:39:08,691 - __main__ - INFO - Generating ROC curve...
2025-04-15 11:39:09,623 - __main__ - INFO - Generating risk trajectory chart...
2025-04-15 11:39:10,224 - __main__ - INFO - Generating confusion matrix...
2025-04-15 11:39:10,650 - __main__ - INFO - Generating feature importance chart...
2025-04-15 11:39:11,228 - __main__ - INFO - Generating HTML report...
2025-04-15 11:39:11,230 - __main__ - INFO - HTML report generated: results/sepsis_prediction_results.html
2025-04-15 11:39:11,230 - __main__ - INFO - Sepsis Early Warning System Visualization Completed
HTML report generated: results/sepsis_prediction_results.html
Visualization and report generation successful, please check the results directory
2025-04-15 11:39:11,789 - __main__ - INFO - Generated visualization file: results/sepsis_prediction_results.html (4.67 KB)
2025-04-15 11:39:11,789 - __main__ - INFO - Generated visualization file: results/figures/roc_curve.png (129.57 KB)
2025-04-15 11:39:11,789 - __main__ - INFO - Generated visualization file: results/figures/risk_trajectories.png (318.64 KB)
2025-04-15 11:39:11,789 - __main__ - INFO - Generated visualization file: results/figures/confusion_matrix.png (82.34 KB)
2025-04-15 11:39:11,789 - __main__ - INFO - Generated visualization file: results/figures/feature_importance.png (137.50 KB)
2025-04-15 11:39:11,791 - __main__ - WARNING - Expected visualization file does not exist: results/figures/model_architecture.png
2025-04-15 11:39:11,791 - __main__ - INFO - Starting to analyze model performance and results...
2025-04-15 11:39:11,791 - __main__ - INFO - Executing task: Analyze model results
2025-04-15 11:39:18,517 - __main__ - INFO - Command completed successfully: python -m scripts.analysis --full (Time: 6.73 seconds)
2025-04-15 11:39:18,519 - __main__ - INFO - Output: ��ʼ���а�������...
�������ݺ�ģ��...
�ӱ����ļ���������...
���а�������ʱ����: [Errno 2] No such file or directory: 'models/best_model.pt'
2025-04-15 11:39:18,520 - __main__ - INFO - Process execution status:
2025-04-15 11:39:18,520 - __main__ - INFO - - Database derived tables: Success
2025-04-15 11:39:18,520 - __main__ - INFO - - Model training: Failure
2025-04-15 11:39:18,520 - __main__ - INFO - - Result visualization: Success
2025-04-15 11:39:18,520 - __main__ - INFO - - Result analysis: Success
2025-04-15 11:39:18,520 - __main__ - INFO - Starting to validate system completeness...
2025-04-15 11:39:18,521 - __main__ - WARNING - System validation incomplete: Some components missing
2025-04-15 11:39:18,521 - __main__ - INFO - Sepsis Early Warning System - Execution completed, Total time: 0.71 minutes
2025-04-15 11:39:18,521 - __main__ - INFO - Generated critical files:
2025-04-15 11:39:18,522 - __main__ - INFO - - data/processed/patient_features.csv: 61665.00 KB
2025-04-15 11:39:18,523 - __main__ - INFO - - data/processed/sepsis_labels.csv: 3966.01 KB
2025-04-15 11:39:18,523 - __main__ - WARNING - - models/best_model.pt: File does not exist
2025-04-15 11:39:18,523 - __main__ - WARNING - - results/predictions.csv: File does not exist
2025-04-15 11:39:18,523 - __main__ - INFO - - results/figures/roc_curve.png: 129.57 KB
2025-04-15 11:39:18,523 - __main__ - INFO - - results/sepsis_prediction_results.html: 4.67 KB
2025-04-15 11:39:18,523 - __main__ - INFO - 
Sepsis Early Warning System completed execution. System has the following features:
1. Large dataset: Extracted data from MIMIC-IV includes data from many real patients
2. High-quality training: Used 100 rounds of training, with learning rate scheduling and early stopping
3. Advanced model architecture: Used neural network structure with multimodal fusion
4. Detailed visualizations: Provided risk trajectories, feature importance, etc.
5. Complete HTML report: Help doctors interpret model results

Complete results can be viewed in the results directory, especially:
- results/figures/: Various visualizations and performance charts

2025-04-15 13:17:53,500 - __main__ - INFO - ================================================================================
2025-04-15 13:17:53,500 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-15 13:17:53,501 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-15 13:17:53,501 - __main__ - INFO - ================================================================================
2025-04-15 13:17:53,502 - __main__ - INFO - Execution parameters: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=True, skip_training=False, only_viz=False, force_real_data=False)
2025-04-15 13:17:53,566 - __main__ - INFO - System information: Windows 11 AMD64
2025-04-15 13:17:53,566 - __main__ - INFO - Checking environment settings...
2025-04-15 13:17:57,060 - __main__ - INFO - Python version: 3.12.8
2025-04-15 13:17:57,061 - __main__ - INFO - PyTorch version: 2.6.0+cu118
2025-04-15 13:17:58,526 - __main__ - INFO - GPU available: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-15 13:17:58,526 - __main__ - INFO - psycopg2 detected as installed
2025-04-15 13:17:58,526 - __main__ - INFO - Attempting to check database connection directly...
2025-04-15 13:17:58,526 - __main__ - INFO - Attempting to connect to database: 172.16.3.67:5432/mimiciv
2025-04-15 13:17:58,829 - __main__ - INFO - Database connection test successful
2025-04-15 13:17:58,930 - __main__ - INFO - Number of patients in MIMIC-IV database: 364,627
2025-04-15 13:17:58,931 - __main__ - INFO - Starting to generate MIMIC-IV derived tables...
2025-04-15 13:17:58,936 - utils.database_config - INFO - Connecting to MIMIC-IV database: 172.16.3.67:5432/mimiciv
2025-04-15 13:17:59,142 - utils.database_config - INFO - MIMIC-IV database connection successful!
2025-04-15 13:17:59,500 - __main__ - INFO - Derived tables exist and contain data: mimiciv_derived.sepsis3 (7,721,514 rows)
2025-04-15 13:17:59,501 - __main__ - INFO - Starting to train sepsis prediction model...
2025-04-15 13:17:59,501 - __main__ - ERROR - Required training file does not exist: data/processed/patient_features.csv
2025-04-15 13:17:59,501 - __main__ - ERROR - Model training failed, this may affect subsequent steps
2025-04-15 13:17:59,502 - __main__ - INFO - Starting to generate visualizations and reports...
2025-04-15 13:17:59,502 - __main__ - INFO - Executing task: Generate visualizations and reports
2025-04-15 13:18:04,464 - __main__ - INFO - Command completed successfully: python run_visualization.py (Time: 4.96 seconds)
2025-04-15 13:18:04,464 - __main__ - INFO - Output: 2025-04-15 13:18:01,937 - __main__ - INFO - Sepsis Early Warning System Visualization Started
2025-04-15 13:18:01,938 - __main__ - INFO - Generating ROC curve...
2025-04-15 13:18:02,709 - __main__ - INFO - Generating risk trajectory chart...
2025-04-15 13:18:03,226 - __main__ - INFO - Generating confusion matrix...
2025-04-15 13:18:03,619 - __main__ - INFO - Generating feature importance chart...
2025-04-15 13:18:04,099 - __main__ - INFO - Generating HTML report...
2025-04-15 13:18:04,100 - __main__ - INFO - HTML report generated: results/sepsis_prediction_results.html
2025-04-15 13:18:04,100 - __main__ - INFO - Sepsis Early Warning System Visualization Completed
HTML report generated: results/sepsis_prediction_results.html
Visualization and report generation successful, please check the results directory
2025-04-15 13:18:04,465 - __main__ - INFO - Generated visualization file: results/sepsis_prediction_results.html (4.67 KB)
2025-04-15 13:18:04,466 - __main__ - INFO - Generated visualization file: results/figures/roc_curve.png (129.57 KB)
2025-04-15 13:18:04,466 - __main__ - INFO - Generated visualization file: results/figures/risk_trajectories.png (318.64 KB)
2025-04-15 13:18:04,466 - __main__ - INFO - Generated visualization file: results/figures/confusion_matrix.png (82.34 KB)
2025-04-15 13:18:04,467 - __main__ - INFO - Generated visualization file: results/figures/feature_importance.png (137.50 KB)
2025-04-15 13:18:04,467 - __main__ - WARNING - Expected visualization file does not exist: results/figures/model_architecture.png
2025-04-15 13:18:04,467 - __main__ - INFO - Starting to analyze model performance and results...
2025-04-15 13:18:04,467 - __main__ - INFO - Executing task: Analyze model results
2025-04-15 13:18:09,712 - __main__ - INFO - Command completed successfully: python -m scripts.analysis --full (Time: 5.24 seconds)
2025-04-15 13:18:09,712 - __main__ - INFO - Output: ��ʼ���а�������...
�������ݺ�ģ��...
���������ļ������ڣ�����ʾ������...
����100�����ߵ�ʾ�����ݣ�ÿ������48Сʱ...
������������DataFrame...
����ŧ��֢��ǩ...
����֪ʶͼ��Ƕ��...
���а�������ʱ����: [Errno 2] No such file or directory: 'models/best_model.pt'
2025-04-15 13:18:09,713 - __main__ - INFO - Process execution status:
2025-04-15 13:18:09,713 - __main__ - INFO - - Database derived tables: Success
2025-04-15 13:18:09,713 - __main__ - INFO - - Model training: Failure
2025-04-15 13:18:09,713 - __main__ - INFO - - Result visualization: Success
2025-04-15 13:18:09,714 - __main__ - INFO - - Result analysis: Success
2025-04-15 13:18:09,714 - __main__ - INFO - Starting to validate system completeness...
2025-04-15 13:18:09,714 - __main__ - WARNING - System validation incomplete: Some components missing
2025-04-15 13:18:09,714 - __main__ - INFO - Sepsis Early Warning System - Execution completed, Total time: 0.27 minutes
2025-04-15 13:18:09,715 - __main__ - INFO - Generated critical files:
2025-04-15 13:18:09,715 - __main__ - INFO - - data/processed/patient_features.csv: 4272.63 KB
2025-04-15 13:18:09,715 - __main__ - INFO - - data/processed/sepsis_labels.csv: 111.67 KB
2025-04-15 13:18:09,715 - __main__ - WARNING - - models/best_model.pt: File does not exist
2025-04-15 13:18:09,716 - __main__ - WARNING - - results/predictions.csv: File does not exist
2025-04-15 13:18:09,716 - __main__ - INFO - - results/figures/roc_curve.png: 129.57 KB
2025-04-15 13:18:09,716 - __main__ - INFO - - results/sepsis_prediction_results.html: 4.67 KB
2025-04-15 13:18:09,716 - __main__ - INFO - 
Sepsis Early Warning System completed execution. System has the following features:
1. Large dataset: Extracted data from MIMIC-IV includes data from many real patients
2. High-quality training: Used 100 rounds of training, with learning rate scheduling and early stopping
3. Advanced model architecture: Used neural network structure with multimodal fusion
4. Detailed visualizations: Provided risk trajectories, feature importance, etc.
5. Complete HTML report: Help doctors interpret model results

Complete results can be viewed in the results directory, especially:
- results/figures/: Various visualizations and performance charts

2025-04-15 13:18:38,861 - __main__ - INFO - ================================================================================
2025-04-15 13:18:38,862 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-15 13:18:38,862 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-15 13:18:38,862 - __main__ - INFO - ================================================================================
2025-04-15 13:18:38,863 - __main__ - INFO - Execution parameters: Namespace(sample=False, epochs=100, batch_size=64, skip_db=False, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=False)
2025-04-15 13:18:38,923 - __main__ - INFO - System information: Windows 11 AMD64
2025-04-15 13:18:38,923 - __main__ - INFO - Checking environment settings...
2025-04-15 13:18:41,226 - __main__ - INFO - Python version: 3.12.8
2025-04-15 13:18:41,227 - __main__ - INFO - PyTorch version: 2.6.0+cu118
2025-04-15 13:18:42,693 - __main__ - INFO - GPU available: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-15 13:18:42,693 - __main__ - INFO - psycopg2 detected as installed
2025-04-15 13:18:42,694 - __main__ - INFO - Attempting to check database connection directly...
2025-04-15 13:18:42,694 - __main__ - INFO - Attempting to connect to database: 172.16.3.67:5432/mimiciv
2025-04-15 13:18:42,893 - __main__ - INFO - Database connection test successful
2025-04-15 13:18:42,962 - __main__ - INFO - Number of patients in MIMIC-IV database: 364,627
2025-04-15 13:18:42,963 - __main__ - INFO - Starting to generate MIMIC-IV derived tables...
2025-04-15 13:18:42,965 - utils.database_config - INFO - Connecting to MIMIC-IV database: 172.16.3.67:5432/mimiciv
2025-04-15 13:18:43,164 - utils.database_config - INFO - MIMIC-IV database connection successful!
2025-04-15 13:18:43,528 - __main__ - INFO - Derived tables exist and contain data: mimiciv_derived.sepsis3 (7,721,514 rows)
2025-04-15 13:18:43,529 - __main__ - INFO - Starting to extract clinical data from MIMIC-IV...
2025-04-15 13:18:43,529 - __main__ - INFO - Executing task: Extract clinical data
2025-04-15 14:12:42,089 - __main__ - INFO - ================================================================================
2025-04-15 14:12:42,090 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-15 14:12:42,090 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-15 14:12:42,090 - __main__ - INFO - ================================================================================
2025-04-15 14:12:59,946 - __main__ - INFO - ================================================================================
2025-04-15 14:12:59,947 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-15 14:12:59,947 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-15 14:12:59,947 - __main__ - INFO - ================================================================================
2025-04-15 16:22:24,943 - __main__ - INFO - ================================================================================
2025-04-15 16:22:24,943 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-15 16:22:24,944 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-15 16:22:24,944 - __main__ - INFO - ================================================================================
2025-04-15 16:23:35,950 - __main__ - INFO - ================================================================================
2025-04-15 16:23:35,951 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-15 16:23:35,951 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-15 16:23:35,951 - __main__ - INFO - ================================================================================
2025-04-15 16:23:35,953 - __main__ - INFO - Force real data mode enabled
2025-04-15 16:23:35,953 - __main__ - INFO - Execution parameters: Namespace(sample=False, epochs=100, batch_size=64, skip_db=True, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=True)
2025-04-15 16:23:36,029 - __main__ - INFO - System information: Windows 11 AMD64
2025-04-15 16:23:36,030 - __main__ - INFO - Checking environment settings...
2025-04-15 16:23:38,858 - __main__ - INFO - Python version: 3.12.8
2025-04-15 16:23:38,859 - __main__ - INFO - PyTorch version: 2.6.0+cu118
2025-04-15 16:23:40,325 - __main__ - INFO - GPU available: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-15 16:23:40,325 - __main__ - INFO - psycopg2 detected as installed
2025-04-15 16:23:40,326 - __main__ - INFO - Attempting to check database connection directly...
2025-04-15 16:23:40,326 - __main__ - INFO - Attempting to connect to database: 172.16.3.67:5432/mimiciv
2025-04-15 16:24:01,337 - __main__ - ERROR - Database connection failed: connection to server at "172.16.3.67", port 5432 failed: Connection timed out (0x0000274C/10060)
	Is the server running on that host and accepting TCP/IP connections?

2025-04-15 16:24:01,339 - __main__ - ERROR - Force real data mode enabled, but database connection failed, terminating execution
2025-04-15 16:24:01,339 - __main__ - ERROR - Environment check failed, terminating execution
2025-04-15 16:26:22,630 - __main__ - INFO - ================================================================================
2025-04-15 16:26:22,630 - __main__ - INFO - Sepsis Early Warning System - Starting execution
2025-04-15 16:26:22,630 - __main__ - INFO - Based on real data analysis from MIMIC-IV large clinical database
2025-04-15 16:26:22,630 - __main__ - INFO - ================================================================================
2025-04-15 16:26:22,631 - __main__ - INFO - Force real data mode enabled
2025-04-15 16:26:22,631 - __main__ - INFO - Execution parameters: Namespace(sample=False, epochs=100, batch_size=64, skip_db=True, skip_extraction=False, skip_training=False, only_viz=False, force_real_data=True)
2025-04-15 16:26:22,697 - __main__ - INFO - System information: Windows 11 AMD64
2025-04-15 16:26:22,697 - __main__ - INFO - Checking environment settings...
2025-04-15 16:26:25,116 - __main__ - INFO - Python version: 3.12.8
2025-04-15 16:26:25,117 - __main__ - INFO - PyTorch version: 2.6.0+cu118
2025-04-15 16:26:26,587 - __main__ - INFO - GPU available: NVIDIA GeForce RTX 3060 Laptop GPU
2025-04-15 16:26:26,588 - __main__ - INFO - psycopg2 detected as installed
2025-04-15 16:26:26,588 - __main__ - INFO - Attempting to check database connection directly...
2025-04-15 16:26:26,589 - __main__ - INFO - Attempting to connect to database: 172.16.3.67:5432/mimiciv
2025-04-15 16:26:47,603 - __main__ - ERROR - Database connection failed: connection to server at "172.16.3.67", port 5432 failed: Connection timed out (0x0000274C/10060)
	Is the server running on that host and accepting TCP/IP connections?

2025-04-15 16:26:47,603 - __main__ - ERROR - Force real data mode enabled, but database connection failed, terminating execution
2025-04-15 16:26:47,604 - __main__ - ERROR - Environment check failed, terminating execution
